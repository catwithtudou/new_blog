
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Life">
      
      
        <meta name="author" content="catwithtudouÔ∏è">
      
      
        <link rel="canonical" href="https://zhengyua.cn/new_blog/os/2401mit6s081/%5B0%5DLecture/lec3/">
      
      
        <link rel="prev" href="../lec2/">
      
      
        <link rel="next" href="../../%5B1%5DLabs/lab1/">
      
      
      <link rel="icon" href="../../../../assets/logo.jpeg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Lec3 - catwithtudouÔ∏èüå¶Ô∏è</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-WZVK8HDP5T"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-WZVK8HDP5T",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-WZVK8HDP5T",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-preparation-operating-system-organization" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="catwithtudouÔ∏èüå¶Ô∏è" class="md-header__button md-logo" aria-label="catwithtudouÔ∏èüå¶Ô∏è" data-md-component="logo">
      
  <img src="../../../../assets/logo.jpeg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            catwithtudouÔ∏èüå¶Ô∏è
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lec3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/catwithtudou" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    catwithtudou
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  üå¶Ô∏èHome

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blog/" class="md-tabs__link">
          
  
    
  
  üìåMainPage

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../language/" class="md-tabs__link">
          
  
    
  
  Language

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../algorithms/" class="md-tabs__link">
          
  
    
  
  Algorithms

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
    
  
  OS

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../network/" class="md-tabs__link">
          
  
    
  
  Network

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../ds/" class="md-tabs__link">
          
  
    
  
  DS

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../architecture/" class="md-tabs__link">
          
  
    
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../middleware/" class="md-tabs__link">
          
  
    
  
  Middleware

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../project/" class="md-tabs__link">
          
  
    
  
  Project

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../common/01-100_tips/" class="md-tabs__link">
          
  
    
  
  Common

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="catwithtudouÔ∏èüå¶Ô∏è" class="md-nav__button md-logo" aria-label="catwithtudouÔ∏èüå¶Ô∏è" data-md-component="logo">
      
  <img src="../../../../assets/logo.jpeg" alt="logo">

    </a>
    catwithtudouÔ∏èüå¶Ô∏è
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/catwithtudou" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    catwithtudou
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üå¶Ô∏èHome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../blog/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    üìåMainPage
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../language/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Language
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../algorithms/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Algorithms
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    OS
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    2401mit6s081
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            2401mit6s081
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    [0]Lecture
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            [0]Lecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lec1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lec2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lec2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Lec3
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Lec3
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-preparation-operating-system-organization" class="md-nav__link">
    <span class="md-ellipsis">
      1. Preparation: Operating system organization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Preparation: Operating system organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-abstracting-physical-resources" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Abstracting physical resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-user-mode-supervisor-mode-and-system-calls" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 User mode, supervisor mode, and system calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-kernel-organization" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Kernel organization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-code-xv6-organization" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Code: xv6 organization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-process-overview" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Process overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-code-starting-xv6-the-first-process-and-system-call" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Code: starting xv6, the first process and system call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-security-model" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 Security Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-real-world" class="md-nav__link">
    <span class="md-ellipsis">
      1.8 Real World
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-lecture-3" class="md-nav__link">
    <span class="md-ellipsis">
      2. Lecture 3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Lecture 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-isolation" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Isolation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-defensive" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Defensive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-hardware-support" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Hardware support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-userkernel-mode-change" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 User/Kernel mode change
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-monolithic-kernel-vs-micro-kernel" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Monolithic Kernel vs Micro Kernel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-building-kernel" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Building kernel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-risc-v-computer" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 RISC-V computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28-boot-xv6" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 Boot xv6
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%5B1%5DLabs/lab1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    [1]Labs
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../common/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    common
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            common
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../network/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Network
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../ds/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    DS
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../architecture/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../middleware/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Middleware
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../project/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Project
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../common/01-100_tips/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Common
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-preparation-operating-system-organization" class="md-nav__link">
    <span class="md-ellipsis">
      1. Preparation: Operating system organization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Preparation: Operating system organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-abstracting-physical-resources" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Abstracting physical resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-user-mode-supervisor-mode-and-system-calls" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 User mode, supervisor mode, and system calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-kernel-organization" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Kernel organization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-code-xv6-organization" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Code: xv6 organization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-process-overview" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Process overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-code-starting-xv6-the-first-process-and-system-call" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Code: starting xv6, the first process and system call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-security-model" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 Security Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-real-world" class="md-nav__link">
    <span class="md-ellipsis">
      1.8 Real World
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-lecture-3" class="md-nav__link">
    <span class="md-ellipsis">
      2. Lecture 3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Lecture 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-isolation" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Isolation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-defensive" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Defensive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-hardware-support" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Hardware support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-userkernel-mode-change" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 User/Kernel mode change
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-monolithic-kernel-vs-micro-kernel" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Monolithic Kernel vs Micro Kernel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-building-kernel" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Building kernel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-risc-v-computer" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 RISC-V computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28-boot-xv6" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 Boot xv6
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Lec3</h1>

<h2 id="1-preparation-operating-system-organization">1. Preparation: Operating system organization<a class="headerlink" href="#1-preparation-operating-system-organization" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>1. book-riscv-rev3 Chapter2</strong></p>
<p><strong>2. xv6 code: kernel/proc.h, kernel/defs.h, kernel/entry.S, kernel/main.c, user/initcode.S, user/init.c, and skim kernel/proc.c and kernel/exec.c</strong></p>
</blockquote>
<ul>
<li>A key requirement for an operating system is to support several activities at once. </li>
<li>an operating system must fulfill three requirements: multiplexing, isolation, and interaction.</li>
</ul>
<h3 id="11-abstracting-physical-resources">1.1 Abstracting physical resources<a class="headerlink" href="#11-abstracting-physical-resources" title="Permanent link">&para;</a></h3>
<ul>
<li>That is, one could implement the system calls in Figure 1.2 as a library, with which applications link. In this plan, each application could even have its own library tailored to its needs. Applications could directly interact with hardware resources and use those resources in the best way for the application</li>
<li>It‚Äôs more typical for applications to not trust each other, and to have bugs, so one often wants stronger isolation than a cooperative scheme provides.</li>
<li>To achieve strong isolation it‚Äôs helpful to forbid applications from directly accessing sensitive hardware resources, and instead to abstract the resources into services.</li>
<li>Similarly, Unix transparently switches hardware CPUs among processes, saving and restor- ing register state as necessary, so that applications don‚Äôt have to be aware of time sharing. </li>
<li>Many forms of interaction among Unix processes occur via file descriptors. Not only do file descriptors abstract away many details (e.g., where data in a pipe or file is stored), they are also defined in a way that simplifies interaction. </li>
</ul>
<h3 id="12-user-mode-supervisor-mode-and-system-calls">1.2 User mode, supervisor mode, and system calls<a class="headerlink" href="#12-user-mode-supervisor-mode-and-system-calls" title="Permanent link">&para;</a></h3>
<ul>
<li>Instead, the operating system should be able to clean up the failed application and continue running other applications. To achieve strong isolation, the operating system must arrange that applications cannot modify (or even read) the operating system‚Äôs data structures and instructions and that applications cannot access other processes‚Äô memory.</li>
<li>CPUs provide hardware support for strong isolation. </li>
<li>machine mode, supervisor mode, and user mode</li>
<li>In supervisor mode the CPU is allowed to execute privileged instructions</li>
<li>An application can execute only user-mode instructions (e.g., adding numbers, etc.) and is said to be running in user space, while the software in supervisor mode can also execute privileged instructions and is said to be running in kernel space. </li>
<li>An application that wants to invoke a kernel function (e.g., the read system call in xv6) must transition to the kernel; an application cannot invoke a kernel function directly.</li>
<li>It is important that the kernel control the entry point for transitions to supervisor mode; if the application could decide the kernel entry point, a malicious application could, for example, enter the kernel at a point where the validation of arguments is skipped.</li>
</ul>
<h3 id="13-kernel-organization">1.3 Kernel organization<a class="headerlink" href="#13-kernel-organization" title="Permanent link">&para;</a></h3>
<ul>
<li>A key design question is what part of the operating system should run in supervisor mode.</li>
<li>In this organization the entire operating system runs with full hardware privilege. </li>
<li>Furthermore, it is easier for different parts of the op- erating system to cooperate.</li>
<li>A downside of the monolithic organization is that the interfaces between different parts of the operating system are often complex (as we will see in the rest of this text)</li>
</ul>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402221049075.png" /></p>
<ul>
<li>easy for an operating system developer to make a mistake. In a monolithic kernel, a mistake is fatal, because an error in supervisor mode will often cause the kernel to fail.</li>
<li>To reduce the risk of mistakes in the kernel, OS designers can minimize the amount of operating system code that runs in supervisor mode, and execute the bulk of the operating system in user mode. This kernel organization is called a microkernel.</li>
<li>In a microkernel, the kernel interface consists of a few low-level functions for starting applica- tions, sending messages, accessing device hardware, etc. This organization allows the kernel to be relatively simple, as most of the operating system resides in user-level servers.</li>
<li>Many Unix kernels are monolithic.</li>
<li>There is much debate among developers of operating systems about which organization is better, and there is no conclusive evidence one way or the other.</li>
<li>From this book‚Äôs perspective, microkernel and monolithic operating systems share many key ideas. They implement system calls, they use page tables, they handle interrupts, they support processes, they use locks for concurrency control, they implement a file system, etc.</li>
<li>Xv6 is implemented as a monolithic kernel, like most Unix operating systems. </li>
</ul>
<h3 id="14-code-xv6-organization">1.4 Code: xv6 organization<a class="headerlink" href="#14-code-xv6-organization" title="Permanent link">&para;</a></h3>
<ul>
<li>The source is divided into files, following a rough notion of modularity.</li>
</ul>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402221051133.png" /></p>
<h3 id="15-process-overview">1.5 Process overview<a class="headerlink" href="#15-process-overview" title="Permanent link">&para;</a></h3>
<ul>
<li>The unit of isolation in xv6 (as in other Unix operating systems) is a process. The process ab- straction prevents one process from wrecking or spying on another process‚Äôs memory, CPU, file descriptors, etc. It also prevents a process from wrecking the kernel itself, so that a process can‚Äôt subvert the kernel‚Äôs isolation mechanisms. The kernel must implement the process abstraction with care because a buggy or malicious application may trick the kernel or hardware into doing something bad (e.g., circumventing isolation). </li>
<li>To help enforce isolation, the process abstraction provides the illusion to a program that it has its own private machine.</li>
<li>Xv6 uses page tables (which are implemented by hardware) to give each process its own ad- dress space. The RISC-V page table translates (or ‚Äúmaps‚Äù) a virtual address (the address that an RISC-V instruction manipulates) to a physical address (an address that the CPU chip sends to main memory).</li>
<li>Xv6 maintains a separate page table for each process that defines that process‚Äôs address space. As illustrated in Figure 2.3, an address space includes the process‚Äôs user memory starting at virtual address zero. Instructions come first, followed by global variables, then the stack, and finally a ‚Äúheap‚Äù area (for malloc) that the process can expand as needed.</li>
</ul>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402221052976.png" /></p>
<ul>
<li>the trampoline page contains the code to transition in and out of the kernel and mapping the trapframe is necessary to save/restore the state of the user process</li>
<li>The xv6 kernel maintains many pieces of state for each </li>
<li>A process‚Äôs most important pieces of kernel state are its page table, its kernel stack, and its run state.</li>
<li>Each process has a thread of execution (or thread for short) that executes the process‚Äôs instruc- tions. A thread can be suspended and later resumed. To switch transparently between processes, the kernel suspends the currently running thread and resumes another process‚Äôs thread.</li>
<li>Each process has two stacks: a user stack and a kernel stack (p-&gt;kstack).</li>
<li>while a process is in the kernel, its user stack still contains saved data, but isn‚Äôt ac- tively used. A process‚Äôs thread alternates between actively using its user stack and its kernel stack. The kernel stack is separate (and protected from user code) so that the kernel can execute even if a process has wrecked its user stack.</li>
<li>A process can make a system call by executing the RISC-V ecall instruction. This instruction raises the hardware privilege level and changes the program counter to a kernel-defined entry point.</li>
<li>A process‚Äôs thread can ‚Äúblock‚Äù in the kernel to wait for I/O, and resume where it left off when the I/O has finished.</li>
<li>A process‚Äôs page table also serves as the record of the addresses of the physical pages allocated to store the process‚Äôs memory.</li>
<li>In summary, a process bundles two design ideas: an address space to give a process the illusion of its own memory, and, a thread, to give the process the illusion of its own CPU. In xv6, a process consists of one address space and one thread. In real operating systems a process may have more than one thread to take advantage of multiple CPUs. process</li>
</ul>
<h3 id="16-code-starting-xv6-the-first-process-and-system-call">1.6 Code: starting xv6, the first process and system call<a class="headerlink" href="#16-code-starting-xv6-the-first-process-and-system-call" title="Permanent link">&para;</a></h3>
<ul>
<li>The RISC-V starts with paging hardware disabled: virtual addresses map directly to physical addresses.</li>
<li>The reason it places the kernel at 0x80000000 rather than 0x0 is because the address range 0x0:0x80000000 contains I/O devices.</li>
<li>The code at _entry loads the stack pointer register sp with the address stack0+4096, the top of the stack, because the stack on RISC-V grows down. </li>
<li>The function start performs some configuration that is only allowed in machine mode, and then switches to supervisor mode. </li>
<li>Before jumping into supervisor mode, start performs one more task: it programs the clock chip to generate timer interrupts.</li>
<li>Once the kernel has completed exec, it returns to user space in the /init process. </li>
</ul>
<h3 id="17-security-model">1.7 Security Model<a class="headerlink" href="#17-security-model" title="Permanent link">&para;</a></h3>
<ul>
<li>Here‚Äôs a high-level view of typical security assumptions and goals in operating system design.</li>
<li>The operating system must assume that a process‚Äôs user-level code will do its best to wreck the kernel or other processes.</li>
<li>The kernel‚Äôs goal to restrict each user processes so that all it can do is read/write/execute its own user memory</li>
<li>The kernel must prevent any other actions. This is typically an absolute requirement in kernel design.</li>
<li>The expectations for the kernel‚Äôs own code are quite different. Kernel code is assumed to be written by well-meaning and careful programmers. Kernel code is expected to be bug-free, and certainly to contain nothing malicious. This assumption affects how we analyze kernel code.</li>
<li>It‚Äôs difficult to prevent clever user code from making a system unusable (or causing it to panic) by consuming kernel-protected resources ‚Äì disk space, CPU time, process table slots, etc. </li>
<li>It‚Äôs worthwhile to design safeguards into the kernel against the possibility that it has bugs: assertions, type checking, stack guard pages, etc. </li>
<li>Finally, the dis- tinction between user and kernel code is sometimes blurred</li>
</ul>
<h3 id="18-real-world">1.8 Real World<a class="headerlink" href="#18-real-world" title="Permanent link">&para;</a></h3>
<ul>
<li>Most operating systems have adopted the process concept, and most processes look similar to xv6‚Äôs.</li>
<li>Modern operating systems, however, support several threads within a process, to allow a single process to exploit multiple CPUs.</li>
</ul>
<h2 id="2-lecture-3">2. Lecture 3<a class="headerlink" href="#2-lecture-3" title="Permanent link">&para;</a></h2>
<p><strong>1. Lecture Topic:</strong></p>
<ul>
<li>OS design <ul>
<li>system calls </li>
<li>micro/monolithic kernel </li>
</ul>
</li>
<li>First system call in xv6</li>
</ul>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402230942514.png" /></p>
<p><strong>2. Goal of OS</strong> </p>
<ul>
<li>run multiple applications </li>
<li>isolate them </li>
<li>multiplex them </li>
<li>share</li>
</ul>
<h3 id="21-isolation">2.1 Isolation<a class="headerlink" href="#21-isolation" title="Permanent link">&para;</a></h3>
<p><strong>1. Strawman design: No OS</strong> </p>
<ul>
<li>Application directly interacts with hardware <ul>
<li>CPU cores &amp; registers </li>
<li>DRAM chips </li>
<li>Disk blocks </li>
<li>...</li>
</ul>
</li>
<li>OS library perhaps abstracts some of it </li>
</ul>
<p><strong>2. Strawman design: not conducive to multiplexing</strong> </p>
<ul>
<li>each app periodically must give up hardware </li>
<li>BUT, weak isolation <ul>
<li>app forgets to give up, no other app runs </li>
<li>apps has end-less loop, no other app runs </li>
<li>you cannot even kill the badly app from another app</li>
</ul>
</li>
<li>but used by real-time OSes<ul>
<li>"cooperative scheduling" </li>
</ul>
</li>
</ul>
<p><strong>3. Strawman design: not conducive to memory isolation</strong> </p>
<ul>
<li>all apps share physical memory </li>
<li>one app can overwrites another apps memory </li>
<li>one app can overwrite OS library</li>
</ul>
<p><strong>4. Unix interface conducive to OS goals</strong> </p>
<ul>
<li>abstracts the hardware in way that achieves goals </li>
<li>processes (instead of cores): fork<ul>
<li>OS transparently allocates cores to processes <ul>
<li>Saves and restore registers </li>
</ul>
</li>
<li>Enforces that processes give them up <ul>
<li>Periodically re-allocates cores     </li>
</ul>
</li>
</ul>
</li>
<li>memory (instead of physical memory): exec <ul>
<li>Each process has its "own" memory </li>
<li>OS can decide where to place app in memory </li>
<li>OS can enforce isolation between memory of different apps </li>
<li>OS allows storing image in file system</li>
</ul>
</li>
<li>files (instead of disk blocks)<ul>
<li>OS can provide convenient names </li>
<li>OS can allow sharing of files between processes/users </li>
<li>pipes (instead of shared physical mem)</li>
<li>OS can stop sender/receiver</li>
</ul>
</li>
</ul>
<h3 id="22-defensive">2.2 Defensive<a class="headerlink" href="#22-defensive" title="Permanent link">&para;</a></h3>
<p><strong>OS must be defensive</strong> </p>
<ul>
<li>an application shouldn't be able to crash OS </li>
<li>an application shouldn't be able to break out of its isolation <ul>
<li>=&gt; need strong isolation between apps and OS</li>
</ul>
</li>
<li>approach: hardware support<ul>
<li>user/kernel mode</li>
<li>virtual memory</li>
</ul>
</li>
</ul>
<h3 id="23-hardware-support">2.3 Hardware support<a class="headerlink" href="#23-hardware-support" title="Permanent link">&para;</a></h3>
<p><strong>1. Processors provide user/kernel mode</strong></p>
<ul>
<li>kernel mode: can execute "privileged" instructions <ul>
<li>e.g., setting kernel/user bit </li>
<li>e.g., reprogramming timer chip</li>
</ul>
</li>
<li>user mode: cannot execute privileged instructions <ul>
<li>Run OS in kernel mode, applications in user mode</li>
<li>RISC-V has also an M mode, which we mostly ignore</li>
</ul>
</li>
</ul>
<p><strong>2. Processors provide virtual memory</strong></p>
<ul>
<li>Hardware provides page tables that translate virtual address to physical </li>
<li>Define what physical memory an application can access </li>
<li>OS sets up page tables so that each application can access only its memory</li>
</ul>
<h3 id="24-userkernel-mode-change">2.4 User/Kernel mode change<a class="headerlink" href="#24-userkernel-mode-change" title="Permanent link">&para;</a></h3>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402231024402.png" /></p>
<p><strong>1. Apps must be able to communicate with kernel</strong> </p>
<ul>
<li>Write to storage device, which is shared =&gt; must be protected =&gt; in kernel </li>
<li>Exit app </li>
<li>...</li>
</ul>
<p><strong>2. Solution: add instruction to change mode in controlled way</strong></p>
<ul>
<li>ecall</li>
<li>enters kernel mode at a pre-agreed entry point</li>
</ul>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402231028158.png" /></p>
<ul>
<li>user / kernel (redline)</li>
<li>app -&gt; printf() -&gt; write() -&gt; SYSTEM CALL -&gt; sys_write() -&gt; ... <ul>
<li>user-level libraries are app's private business </li>
</ul>
</li>
<li>kernel internal functions are not callable by user</li>
<li>other way of drawing picture:<ul>
<li>syscall 1  -&gt; system call stub -&gt; kernel entry -&gt; syscall -&gt; fs </li>
<li>syscall 2                                                 -&gt; proc</li>
</ul>
</li>
<li>system call stub executes special instruction to enter kernel <ul>
<li>hardware switches to kernel mode </li>
<li>but only at an entry point specified by the kernel</li>
</ul>
</li>
<li>syscall need some way to get at arguments of syscall</li>
</ul>
<h3 id="25-monolithic-kernel-vs-micro-kernel">2.5 Monolithic Kernel vs Micro Kernel<a class="headerlink" href="#25-monolithic-kernel-vs-micro-kernel" title="Permanent link">&para;</a></h3>
<p><strong>1. Kernel is the Trusted Computing Base (TCB)</strong></p>
<ul>
<li>Kernel must be "correct"<ul>
<li>Bugs in kernel could allow user apps to circumvent kernel/user</li>
</ul>
</li>
<li>Kernel must treat user apps as suspect <ul>
<li>User app may trick kernel to do the wrong thing </li>
<li>Kernel must check arguments carefully </li>
<li>Setup user/kernel correctly</li>
</ul>
</li>
<li>Kernel in charge of separating applications too <ul>
<li>One app may try to read/write another app's memory </li>
<li>=&gt; Requires a security mindset </li>
<li>Any bug in kernel may be a security exploit</li>
</ul>
</li>
</ul>
<blockquote>
<p>Aside: can one have process isolation WITHOUT h/w-supported </p>
<ul>
<li>kernel/user mode and virtual memory? </li>
<li>yes! use a strongly-typed programming language <ul>
<li>For example, see Singularity O/S </li>
</ul>
</li>
<li>the compiler is then the trust computing base (TCB)</li>
<li>but h/w user/kernel mode is the most popular plan</li>
</ul>
</blockquote>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402260925820.png" /></p>
<p><strong>2. Monolothic kernel</strong></p>
<ul>
<li>OS runs in kernel space </li>
<li>Xv6 does this.  Linux etc. too. </li>
<li>kernel interface == system call interface </li>
<li>one big program with file system, drivers, &amp;c</li>
<li>good: easy for subsystems to cooperate <ul>
<li>one cache shared by file system and virtual memory</li>
</ul>
</li>
<li>bad: interactions are complex <ul>
<li>leads to bugs</li>
<li>no isolation within</li>
</ul>
</li>
</ul>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402260926457.png" /></p>
<p><strong>3. Microkernel design</strong></p>
<ul>
<li>many OS services run as ordinary user programs <ul>
<li>file system in a file server </li>
</ul>
</li>
<li>kernel implements minimal mechanism to run services in user space <ul>
<li>processes with memory </li>
<li>inter-process communication (IPC)</li>
<li>kernel interface != system call interface</li>
</ul>
</li>
<li>good: more isolation</li>
<li>bad: may be hard to get good performance </li>
<li>both monolithic and microkernel designs widely used</li>
</ul>
<p><strong>4. Xv6 case study</strong></p>
<ul>
<li>Monolithic kernel <ul>
<li>Unix system calls == kernel interface</li>
</ul>
</li>
<li>Source code reflects OS organization (by convention)<ul>
<li>user/    apps in user mode</li>
<li>kernel/  code in kernel mode</li>
</ul>
</li>
<li>Kernel has several parts <ul>
<li>kernel/defs.h(proc, fs, ...)</li>
</ul>
</li>
<li>Goal: read source code and understand it (without consulting book)</li>
</ul>
<h3 id="26-building-kernel">2.6 Building kernel<a class="headerlink" href="#26-building-kernel" title="Permanent link">&para;</a></h3>
<p><strong>1. Using xv6</strong></p>
<ul>
<li>Makefile builds <ul>
<li>kernel program </li>
<li>user programs </li>
<li>mkfs</li>
</ul>
</li>
<li>$ make qemu <ul>
<li>runs xv6 on qemu</li>
<li>emulates a RISC-V computer</li>
</ul>
</li>
</ul>
<p><strong>2. Building kernel</strong></p>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402260938296.png" /></p>
<p>.c -&gt; gcc -&gt; .s -&gt; .o  \
....                     ld -&gt; a.out
.c -&gt; gcc -&gt; .s -&gt; .o  /</p>
<ul>
<li>makefile keeps .asm file around for binary <ul>
<li>see for example, kernel/kernel.asm</li>
</ul>
</li>
</ul>
<h3 id="27-risc-v-computer">2.7 RISC-V computer<a class="headerlink" href="#27-risc-v-computer" title="Permanent link">&para;</a></h3>
<p><strong>1. The RISC-V computer</strong></p>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402260948246.png" /></p>
<ul>
<li>RISC-V processor with 4 cores</li>
<li>RAM (128 MB)</li>
<li>support for interrupts (PLIC, CLINT)</li>
<li>support for UART <ul>
<li>allows xv6 to talk to console </li>
<li>allows xv6 to read from keyboard</li>
</ul>
</li>
<li>support for e1000 network card (through PCIe)</li>
</ul>
<p><strong>2. Development using Qemu</strong></p>
<ul>
<li>More convenient than using the real hardware </li>
<li>Qemu emulates several RISC-V computers<ul>
<li>we use the "virt" one(https://github.com/riscv/riscv-qemu/wiki)</li>
<li>close to the SiFive board (https://www.sifive.com/boards), but with virtio for disk</li>
</ul>
</li>
</ul>
<p><strong>3. What is "to emulate"?</strong></p>
<p><img alt="" src="https://img.zhengyua.cn/blog/202402260950342.png" /></p>
<ul>
<li>Qemu is a C program that faithfully implements a RISC-V processor</li>
</ul>
<div class="language-C highlight"><span class="filename">C</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">for</span><span class="w"> </span><span class="p">(;;)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="n">read</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">instructions</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="n">decode</span><span class="w"> </span><span class="n">instruction</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="n">execute</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="p">(</span><span class="n">updating</span><span class="w"> </span><span class="n">processor</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">software = hardware</p>
</div>
<h3 id="28-boot-xv6">2.8 Boot xv6<a class="headerlink" href="#28-boot-xv6" title="Permanent link">&para;</a></h3>
<ul>
<li>$ make CPUS=1 qemu-gdb <ul>
<li>runs xv6 under gdb (with 1 core)</li>
</ul>
</li>
<li>Qemu starts xv6 in kernel/entry.S (see kernel/kernel.ld)<ul>
<li>set breakpoint at _entry <ul>
<li>look at instruction </li>
<li>info reg</li>
</ul>
</li>
<li>set breakpoint at main <ul>
<li>Walk through main </li>
</ul>
</li>
<li>single step into userinit <ul>
<li>Walk through userinit </li>
<li>show proc.h </li>
<li>show allocproc()</li>
<li>show initcode.S/initcode.asm </li>
</ul>
</li>
<li>break forkret()<ul>
<li>walk to userret </li>
</ul>
</li>
<li>break syscall <ul>
<li>print num </li>
<li>syscalls[num]</li>
<li>exec "/init"</li>
</ul>
</li>
</ul>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">February 26, 2024 11:00:41</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">February 22, 2024 10:59:17</span>
  </span>

    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../lec2/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Lec2">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Lec2
              </div>
            </div>
          </a>
        
        
          
          <a href="../../%5B1%5DLabs/lab1/" class="md-footer__link md-footer__link--next" aria-label="Next: Lab: Xv6 and Unix utilities">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Lab: Xv6 and Unix utilities
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 catwithtudou
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/catwithtudou" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/catwithtudou" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.annotation", "content.code.copy", "header.autohide"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>