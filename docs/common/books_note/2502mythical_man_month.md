# 25.02《人月神话》阅读笔记下(08~)

## 第8章 胸有成竹

> 经验是昂贵的老师，但愚人只能从经验学习。 -- 穷查理年鉴

对于估计一项系统编程任务的工作量，我们通常可通过经验发现：

- **工作量是程序规模的幂函数**

![](https://img.zhengyua.cn/blog/202502211025728.png)

作者在本章列举了多个组织关于程序员生产率的研究例子，来对此进行延伸。

**1. Portman 的数据**

该团队发现的观点是：

- 编程团队的进度大约是计划进度的 1/2，每项工作花费的时间大约是估计的2倍

简言之，项目估算对**每个人年的技术工作时间数量做出了不现实的假设**。

**2. Aron 的数据**

根据程序员（和系统部件）之间的交互划分这些系统得到如下的生产率：

- 非常少的交互：10000 指令/人年
- 少量的交互：5000 指令/人年
- 较多的交互：1500 指令/人年

该数据未包含支持和系统测试活动，仅仅是设计和编程。

**3. Harr 的数据**

**没有人可以完全确定**程序复杂程度和人员数量等因素所导致的生产率差别。除开这些不确定性，数据反映了实际的生产率。

![](https://img.zhengyua.cn/blog/202502211030240.png)



**4. OS/360 的数据**

OS/360 以及前面的数据基本都能证实**生产率会根据任务本身的复杂度和困难程度表现出显著差异**。对此作者给到的经验准则是：

- 在估计复杂性的混乱中，**编译器的复杂度是正常批处理程序的3倍，操作系统复杂度是编译器的3倍**

**5. Corbato 的数据**

该组织得到的关键结论是：

- **对基本语句而言，生产率似乎是恒定的**。考虑到语句所需要的思考和可能包含的错误，这个结论是合理的
- 使用适当的高级语言，**编程的生产率可以提高5倍**


??? note "以下是 LLM 补充的思考和看法"


    === "deepseek-r1"


        你的总结已经非常全面，我尝试从现代视角和延伸思考的角度补充一些观点，帮助深化理解：

        ---

        延伸思考与补充视角

        1. **「人月神话」的核心矛盾再审视**

        第八章的数据本质上揭示了软件工程中一个永恒矛盾——**「人月」是否可以作为可叠加的线性单位**。Portman 发现的「实际耗时是估算的2倍」，本质上暴露了「人月神话」的核心：

        - **沟通成本的非线性增长**（布鲁克斯定律的前兆）：人数增加时，沟通路径呈组合数增长（n(n-1)/2），但管理者常误以为人力是可线性叠加的资源。
        - **认知负荷的隐蔽性**：代码复杂度带来的认知负担难以量化，比如Aron数据中「较多交互」导致生产率骤降67%，这实际上反映了模块间耦合度对心智模型的破坏。

        2. **复杂度度量的现代演进**

        作者提到的「编译器复杂度是批处理程序的3倍」基于1970年代的系统，今天的复杂度维度已发生变化：

        - **分布式系统的「暗物质复杂度」**：微服务、云原生架构引入了网络延迟、容错、一致性等新复杂度轴，传统代码行数（LOC）的度量完全失效。

        - **康威定律的显性化**：系统设计受制于组织架构（如微服务团队自治），交互成本从「代码耦合」转移到「API契约治理」，Aron的「交互等级」需要重新定义。


        3. **高级语言的「5倍效率」再思考**

        Corbato的数据显示高级语言提升效率，但这一结论需要辩证看待：

        - **抽象的双刃剑**：现代语言（如Rust/Python）确实提升编码效率，但过度抽象可能导致调试难度指数级上升（例如Python动态类型的运行时错误）。

        - **AI代码补全的变量**：GitHub Copilot等工具可能将「语句级生产率恒定」提升到「功能块级恒定」，但需警惕生成代码的认知盲区。


        4. **被忽视的「隐性时间黑洞」**

        原始数据未充分纳入的关键因素：

        - **「隐形20%」**：调试、文档、兼容性适配等非编码任务，在现代工程中占比可能超过50%（尤其是开源依赖管理）。

        - **上下文切换成本**：多任务并行导致的注意力残留（参考《深度工作》），这在敏捷开发中尤为明显。


        5. **现代估算模型的进化**

        从作者时代的经验公式到今天的科学方法：

        - **COCOMO II模型**：引入「早期设计」与「后架构」阶段的不同权重，量化需求稳定性、团队经验等因素。

        - **概率性估算**：如蒙特卡洛模拟替代单一估算，通过区间分布（如「最快-最可能-最慢」）管理预期。

        - **敏捷度量**：用「故事点」替代人天，通过迭代Velocity动态校准，避免过早精确化导致的谬误。

        ---

        行动建议（如何应用这些洞见）

        1. **反直觉决策**

        - 面对延迟时，避免盲目加人，优先考虑**减少交互成本**（如重构模块边界、引入Facade模式）。
        - 用「复杂度税」机制：强制要求每个新增模块的提案者举证其对全局复杂度的贡献。

        2. **量化沟通负载**

        - 在WBS中增加「协调积分」，例如：每周会议时长×参与人数²，作为项目健康度的预警指标。

        3. **语言与工具策略**

        - 对胶水代码使用高阶语言（Python），对核心模块用高性能语言（Rust），平衡效率与质量。

        - 建立「技术雷达」机制，持续评估AI编码工具的真实ROI（如生成代码的维护成本）。

        4. **复杂性免疫设计**

        - 采用「逆康威策略」：先定义理想的系统架构，再调整团队组织结构与之匹配。
        - 推行「无接口不编码」：强制要求模块间通过显式API/契约交互，降低隐性耦合。

        ---

        经典案例对照

        - **Linux内核**：通过高度模块化和「树状维护者结构」，在超大规模下保持较低交互成本（印证Aron的「交互量级」理论）。
        - **SpaceX发射软件**：极端强调自动化测试（每行代码对应17个测试用例），将后期调试成本提前摊薄，间接提升「人月效率」。

        你的总结已抓住核心，以上补充试图连接经典理论与现代实践，或许能带来新的启发。


    === "gpt4-o"

        你的总结非常清晰地概述了第八章《胸有成竹》的内容，尤其对不同组织的数据归纳和关键结论的提炼十分到位。以下是一些补充的看法和延伸思考，帮助进一步理解和反思这部分内容：

        ---

        **补充思考 1：工作量是程序规模的幂函数**

        a. **复杂度的非线性增长**

        代码行数的增加与工作量的指数型关系揭示了软件开发中“复杂性成本”的核心问题。随着代码规模变大，团队需要处理的**模块间的交互**、**依赖性管理**以及**认知负荷**都会显著增加。这种非线性关系提醒我们：

        - 软件开发不能简单地通过人力堆叠来解决问题，特别是当团队规模增长后，管理成本也会随之增加（如《人月神话》的核心观点之一：人月不可叠加）。

        - 为了减少复杂性增长带来的成本，需要在架构设计阶段进行深入的**模块化设计**，尽量将系统分解为独立的、低耦合的模块。

        b. **与现代敏捷开发的联系**


        在敏捷开发中，通过短周期迭代（如 Scrum 的 Sprint）将任务分解为小规模、独立的功能模块，可以有效降低工作量的非线性增长效应。这与本章提出的“任务复杂性与工作量幂函数关系”的观点形成了实践上的呼应。

        ---

        **补充思考 2：关于生产率的多维数据分析**


        a. **不同数据来源的互补性**

        你总结的 Portman、Aron、Harr、Corbato 等数据从不同角度揭示了**生产率的变量**：

        - “**人与人之间的交互**”是生产率降低的主要因素之一。Aron 的数据表明，交互越复杂，生产率越低。这可以联想到现代软件工程中“沟通成本”的问题。团队规模越大，沟通和协作的效率越低。

        - Corbato 的结论中提到，**高级语言可以提高生产率**，这与现代开发中“工具和技术选型”的重要性一致。例如，使用高效的框架、自动化工具和代码生成器可以显著提高生产效率。

        b. **实践中的应用**

        这些数据可以帮助我们在项目管理中做出更合理的决策：

        - 小团队适合处理高交互、复杂度高的模块，而大型团队适合处理独立性强的模块。

        - 在项目预算和工期估算时，需要对任务的复杂度进行量化评估，而不能单纯基于代码行数或功能点。

        - **现代视角的验证**

        自《人月神话》发表以来，软件开发的生产率随着工具、方法和技术的进步不断提高。例如，现代 IDE（集成开发环境）和 CI/CD 流水线已经显著减少了开发和测试的时间。然而，尽管工具提高了生产率，复杂性依然是阻碍效率的首要因素，这说明书中的观点仍然具有深远意义。

        ---

        **补充思考 3：OS/360 数据与复杂度评估**

        - **复杂度的经验准则**

        OS/360 的数据提出“编译器复杂度是批处理程序的 3 倍，操作系统复杂度是编译器的 3 倍”。这是一种基于经验的复杂度分层模型。尽管现代软件的复杂性已经远超当年，但这种分层模型仍然可以作为一种**估算复杂度的指导原则**。

        - **复杂度对错误率的影响**

        系统复杂度的增加不仅显著影响生产率，还会导致错误率的非线性增长。复杂系统中的 bug 通常具有隐蔽性和多样性，这使得调试和修复的工作量也指数型增加。因此，现代软件开发更加强调**自动化测试**和**持续集成**，以尽早发现和解决问题。

        ---

        **补充思考 4：高级语言与生产率**

        a. **编程语言的生产率提升**

        Corbato 的研究表明，使用高级语言可以提高 5 倍生产率。这一结论在现代软件开发中有了更多实践支持，例如：

        - 高级语言（如 Python、Kotlin、Swift）相比低级语言（如 C、Assembly）在语法简洁性、内置库和开发效率上表现突出。
        - 高级语言使开发者可以专注于业务逻辑，而非底层实现。

        b. **生产率与错误率的权衡**

        高级语言虽然提高了生产率，但也可能因为其抽象程度更高而隐藏一些潜在问题。例如，垃圾回收机制虽然减少了手动内存管理，但也可能导致性能问题。如果对性能和可靠性有极高要求，开发者依然需要理解底层实现。这种权衡提醒我们，语言的选择应根据项目需求而定，而不是一味追求生产率。

        ---

        **延伸思考：结合现代软件工程的启示**

        a. **自动化工具的应用**

        本章提到的生产率提升因素，如高级语言和减少交互复杂度，在现代开发中可以通过更广泛的自动化工具实现：

        - **代码生成工具**：如 Swagger 可以自动生成 API 接口代码，减少重复劳动。
        - **测试框架**：如 JUnit、pytest 等，缩短测试时间并提升代码质量。
        - **DevOps 流程**：通过持续集成、自动化部署，减少交付周期，提高效率。

        b. **数据驱动的开发管理**

        Harr 的数据强调了生产率的不可预测性，这与现代数据驱动的开发管理形成对比。通过分析开发过程的指标（如代码提交频率、构建失败率、平均调试时间等），我们可以更精确地预测项目进度并进行调整。

        c. **跨学科的协作**

        现代软件开发团队通常由开发、测试、运维、产品经理等多角色组成。如何减少这些角色之间的沟通成本，是提升生产率的关键。敏捷开发中的“每日站会”和“透明化看板”正是应对这些问题的有效实践。

        ---

        **总结**

        第八章通过数据和经验揭示了编程任务的复杂性与生产率的关系，这些观点在今天仍然具有指导意义。结合现代软件开发工具与方法，我们可以更好地理解和实践这些理论。关键在于：

        1. **合理评估复杂性**，避免低估工作量。
        2. **优化团队协作**，减少交互成本。
        3. **善用工具和高级语言**，提升生产率。
        4. **拥抱自动化与数据驱动**，提高开发过程的可预测性。

## 第9章 削足适履

> 作者应该看看诺亚，向他学习，像他在方舟中所做的那样，把大量的东西挤到一个非常小的容器内。 -- 西德尼·史密斯，《爱丁堡评论》

**1. 作为成本的程序空间**

- 程序的成本除了运行时间以外，**所占据的空间也是主要开销**
- 应该从整体上进行评价，不仅仅是提倡更紧密的软硬件设计集成，还有规模本身对软件系统的影响
- 规模也会占据成本较大的部分，所以建造者需要**设置规模的目标，控制规模并考虑减少规模的方法**，同任务开销一样，规模本身不是坏事，但不必要的规模是不可取的

**2. 规模控制**


- 对项目经理而言，规模控制不仅是技术工作的一部分，也是**管理工作的一部分**，他必须研究用户及其应用，以设置待开发系统的规模。“规模-速度”权衡方案结构会很大范围内变化，所以需要了解每一小片内可用的权衡

作者就规模控制来说列举了在 OS/360 项目学习到的经验：

- 和制定驻留空间预算一样，**应该制定总体规模的预算**；和制定规模预算一样，应该制定后台存储访问的预算
- 在规定模块有多大的同时，**确切定义模块的功能**
- 在项目规模本身很大的前提下，缺乏管理和沟通导致团队成员认为自己是争取小红花的学生**而不是产品的建造者**

**3. 空间技能**

空间预算的多少和控制并不会减少程序规模，而是需要其他的手段来帮助实现：

- **用功能换空间**，考虑为用户保留多少选择，即用户可选项目的粗细程度
- **空间与实践的折中**，依据通常对于给定的功能空间越多则速度越快的信息，经理可通过**培训团队成员的编程技能**（而不是仅仅依赖天赋和先前的经验）和让团队成员意识到**编程有技术性**需要开发很多公共单元构件的两种方案来帮助取得折中

**4. 表达是编程的本质**

超越技艺的是创新，而创新的结构几乎都是从**战略上突破的**，而不是战术上的聪明。而更普遍的是战略上的突破常**来自数据或表的重新表达**（程序的核心所在），作者通过提到的 IBM 650 建造精密的控制台解释器、 Fortran 编译器等例子来说明**表达的力量。**

- 当程序员因空间不足而束手无策的时候，通常最好的办法就是从自己的代码中挣脱出来，放松一下，**思考自己的数据**。表达是编程的本质。


??? note "以下是 LLM 补充的思考和看法"


    您的总结很全面地覆盖了《人月神话》第九章"削足适履"的关键内容。我可以提供一些补充思考和现代视角，帮助您加深理解：

    **现代视角下的思考与启示**

    **1. 空间成本的演变**

    虽然今天的硬件资源已远超Brooks时代，但"空间成本"这一概念依然重要：

    - 移动设备和嵌入式系统仍然面临资源限制
    - 云计算环境下，资源使用直接转化为经济成本
    - 网络传输带宽和延迟对于web应用和分布式系统至关重要
    - 能耗考量（尤其在数据中心和移动设备）成为新的"空间成本"维度

    **2. 规模控制的深层意义**

    Brooks将规模控制视为管理工作的部分，这一观点有着深远意义：

    - 复杂性管理：软件规模增长往往导致复杂性指数级增长
    - 技术债务：未控制的规模常常累积技术债务，长期影响开发效率
    - 团队心理学角度：大型项目中的"争小红花"现象反映了团队认同感缺失问题
    - DevOps文化强调的"小批量、频繁发布"策略实际上是规模控制的现代体现

    **3. "表达是编程的本质"的哲学深度**

    这句话包含了编程的哲学核心：

    - 程序本质上是对现实问题的形式化表达
    - 数据结构的选择往往比算法优化更能决定程序效率
    - 领域特定语言(DSL)的兴起体现了表达力对生产力的影响
    - 函数式编程的流行部分源于其提供了更简洁、更强大的表达方式

    **4. 与现代软件工程实践的连接**

    Brooks的思想与当代实践有许多共鸣：

    - 微服务架构可视为"用功能换空间"的现代实践
    - 容器化和serverless技术提供了资源使用的精细控制
    - 代码重构和设计模式是"空间与实践的折中"的具体体现
    - 敏捷开发中的"极简可行产品"(MVP)思想与规模控制理念一脉相承

    **5. 对个人开发者的启示**

    - 在开始写代码前，投入足够时间思考数据表达和结构设计
    - 定期回顾项目范围，避免功能蔓延
    - 培养对复杂性的敏感度，追求简洁解决方案
    - 了解技术选择背后的资源消耗和成本含义

    Brooks在半个世纪前提出的这些观点，在当代软件开发中依然闪烁着智慧的光芒。无论技术如何发展，对空间的重视、规模的控制以及表达力的追求，仍然是软件工程的永恒主题。



## 第10章 提纲挈领

> 前提：在堆积如山的文件资料中，少数文档是关键枢纽，每一件项目管理的工作都围绕着它们运转。这些文档是项目经理最重要的个人工具。

**文档的工作是每个项目经理绕不开的事情**，文档的表达体现了他的管理工作和明确意见等大部分的工作内容，为了阐明软件项目如何开展该类工作，作者首先通过借鉴其他行业的文档资料来帮助进行归纳和得出结论：

**1. 计算机产品的文档**

制造一台机器关键的文档通常会有：

- 目标|规约|进度|预算|组织结构图|工作时间的分配
- **估算&预测&价格**：三因素环状互锁，决定项目的成败
    -  如果价格低于假设值，好的螺旋开始，往预测值上升->单元成本下降->价格下降
    -  如果价格高于假设值，坏的螺旋开始，需要做到成本必须降低来获得更低的预算

![](https://img.zhengyua.cn/blog/202502262008296.png)

**2. 大学科系的文档**

尽管目的和活动存在差异，但**数量类似、内容相近**的各类文档形成大学的主要资料集合：

- 目标|课程描述|学位要求|研究提案|课程表和教学安排|预算|空间分配|工作人员和研究生的分配

注意这些文档的组成与计算机项目非常相似，此相似不是偶然而是：

- **任何管理任务的关注点都是时间、地点、人员、项目内容和资金**


**3. 软件项目的文档**

不论项目的规模，经理聪明的做法都是**立刻开始制定若干微型文档，以作为自己的数据基础**，且事实证明其文档与其他领域经理所需的文档都非常类似：

- 内容：目标和产品规约|时间：进度表|资金：预算|地点：空间分配|人员：组织图

**4. 为什么要有正式的文档？**

作者给出的主要理由有三个：

- **书面记录决策是必要的**，只有记录下来，分歧才会明朗，矛盾才会突出，从而帮助识别清晰和确定的政策
- **文档能够作为同其他人沟通的渠道**，帮助经理减轻沟通的负担，从而对齐团队内部成员的常识
- **可以作为数据基础和检查列表**，通过周期性回顾清楚项目所处状态以及需要调整的重点

经理的任务是制定计划并实现计划，但**只有书面计划是精确和可以沟通的，这些少量的关键文档封装了其大部分工作**。若一开始认识其普遍性和重要性，经理则将它们视为良好的工具而不是繁琐的琐事，以此更清晰和更快速地设定自己的方向。


??? note "以下是 LLM 补充的思考和看法"

    你对《人月神话》第十章的总结非常全面。我来补充一些思考，帮助你加深理解：

    **文档作为思维工具**

    Brooks 在这一章强调的不仅是文档的记录功能，更是文档作为"思维工具"的价值。当我们将想法书面化，实际上是在强迫自己进行结构化思考。很多不清晰的想法在写下来的过程中会被迫变得清晰，这也解释了为什么他认为"书面记录决策是必要的"。

    **文档的演化特性**

    值得注意的是，Brooks 隐含了这些文档并非一成不变的，而是随项目发展不断演化的。好的文档系统应该是"活"的，能够反映项目的当前状态和历史决策路径。许多项目失败正是因为文档被视为一次性工作，而非持续更新的工具。

    **文档与团队规模的关系**

    当团队规模扩大，正式文档的重要性呈指数级增长。在小团队中，非正式沟通可能足够，但随着规模增长，没有正式文档作为"事实来源"，团队成员会基于不同的理解和假设工作，导致混乱和重做。

    **文档的精简原则**

    Brooks提到"微型文档"这一概念非常关键。他主张文档应当精简、聚焦，而非冗长详尽。这一观点与现代敏捷方法论中"足够好的文档"理念一致，即文档应当满足当前需求，而不是追求完美或过度详细。

    **预算-预测-价格的循环与今日项目管理**

    Brooks描述的这种循环关系在今天的产品开发中依然适用。许多现代创业公司通过"正向循环"取得成功：合理定价→更多用户→规模经济→降低成本→更有竞争力的价格。这表明Brooks的见解超越了时代局限。

    **文档与现代项目管理工具**

    在今天，很多项目管理软件（如JIRA、Notion等）将Brooks描述的文档整合到数字化工作流中。但核心原则不变—我们仍需那些关键的"提纲挈领"式文档作为项目的骨架。技术只是载体变了，文档的本质功能没变。

    **战略思考与执行分离**

    Brooks强调的文档实际上代表了战略思考与日常执行的分离。经理需要这些文档来"升高视角"，避免陷入日常细节而忽视全局。这一点在今天"战略思考"与"战术执行"的管理理论中仍然重要。

    **结语**

    Brooks在1975年提出的这些观点至今仍有强大的指导意义。随着软件项目越来越复杂，保持关键文档的简洁性和更新性变得更为重要。我们可以借助新工具，但不能忘记文档的核心目的：帮助我们思考、沟通和协作。


## 第11章 未雨绸缪

> 不变只是愿望，变化才是永恒。 ——斯威夫特
>
> 普遍的做法是，选择一种方法，试试看；如果失败了，没关系，再试试别的方法。不管怎么样，重要的是先去常识。 ——富兰克林·罗斯福

作者通过**化学工程中的试验性工厂**的例子来说明在软件系统的构建人员也面临类似的问题。所以基于在第一次开发会遇到的未知问题和新系统概念或技术的经验，说明构建一个用来抛弃的系统是必须的。

所以管理上的问题不再是“是否构建一个试验性的系统，然后抛弃它”，而是必须这样做。现在的问题是”是否预先计划抛弃原型的开发，或者是否将该原型发布给用户“，我们可清晰地知道若选择后者虽然可带来时间，但对于用户的使用体验极差、影响产品声誉等诸多影响。

因此最关键的教训就是：**为舍弃而计划，无论如何，你一定得这样做。**

