
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Life">
      
      
        <meta name="author" content="catwithtudouÔ∏è">
      
      
        <link rel="canonical" href="https://zhengyua.cn/new_blog/algorithms/LLM/huggingface/AIAgentCourse/UNIT22/">
      
      
        <link rel="prev" href="../UNIT21/">
      
      
        <link rel="next" href="../UNIT23/">
      
      
      <link rel="icon" href="../../../../../assets/logo.jpeg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>UNIT2.2 LlamaIndex Frameworks - catwithtudouÔ∏èüå¶Ô∏è</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-WZVK8HDP5T"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-WZVK8HDP5T",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-WZVK8HDP5T",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unit22-llamaindex-frameworks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="catwithtudouÔ∏èüå¶Ô∏è" class="md-header__button md-logo" aria-label="catwithtudouÔ∏èüå¶Ô∏è" data-md-component="logo">
      
  <img src="../../../../../assets/logo.jpeg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            catwithtudouÔ∏èüå¶Ô∏è
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              UNIT2.2 LlamaIndex Frameworks
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/catwithtudou" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    catwithtudou
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
    
  
  üå¶Ô∏èHome

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../blog/" class="md-tabs__link">
          
  
    
  
  üìåMainPage

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../language/" class="md-tabs__link">
          
  
    
  
  Language

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../../" class="md-tabs__link">
          
  
    
  
  Algorithms

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../os/" class="md-tabs__link">
          
  
    
  
  OS

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../network/" class="md-tabs__link">
          
  
    
  
  Network

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../ds/" class="md-tabs__link">
          
  
    
  
  DS

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../architecture/" class="md-tabs__link">
          
  
    
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../middleware/" class="md-tabs__link">
          
  
    
  
  Middleware

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../project/" class="md-tabs__link">
          
  
    
  
  Project

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../common/01-100_tips/" class="md-tabs__link">
          
  
    
  
  Common

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="catwithtudouÔ∏èüå¶Ô∏è" class="md-nav__button md-logo" aria-label="catwithtudouÔ∏èüå¶Ô∏è" data-md-component="logo">
      
  <img src="../../../../../assets/logo.jpeg" alt="logo">

    </a>
    catwithtudouÔ∏èüå¶Ô∏è
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/catwithtudou" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    catwithtudou
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üå¶Ô∏èHome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../blog/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    üìåMainPage
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../language/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Language
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Algorithms
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Algorithms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    LLM
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            LLM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    huggingface
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            huggingface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AIAgentCourse
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_2_2" id="__nav_4_2_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_2_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            AIAgentCourse
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNIT1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UNIT1. INTRODUCTION TO AGENTS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNIT20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UNIT2 FRAMEWORKS FOR AI AGENTS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNIT21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UNIT2.1 Smolagents Frameworks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    UNIT2.2 LlamaIndex Frameworks
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    UNIT2.2 LlamaIndex Frameworks
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-llamaindexÁÆÄ‰ªã" class="md-nav__link">
    <span class="md-ellipsis">
      1. LlamaIndexÁÆÄ‰ªã
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-llamahubÁÆÄ‰ªã" class="md-nav__link">
    <span class="md-ellipsis">
      2. LlamaHubÁÆÄ‰ªã
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-llamaindex‰∏≠ÁöÑÁªÑ‰ª∂" class="md-nav__link">
    <span class="md-ellipsis">
      3. LlamaIndex‰∏≠ÁöÑÁªÑ‰ª∂
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-Âú®llamaindex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑" class="md-nav__link">
    <span class="md-ellipsis">
      4. Âú®LlamaIndex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-Âú®llamaindex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì" class="md-nav__link">
    <span class="md-ellipsis">
      5. Âú®LlamaIndex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-Âú®llamaindex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ" class="md-nav__link">
    <span class="md-ellipsis">
      6. Âú®LlamaIndex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNIT23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UNIT2.3 LangGraph Frameworks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNIT30/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UNIT3 Use Case for Agentic RAG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNITBONUS10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bonus Unit 1. Fine-tuning an LLM for Function-calling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNITBONUS20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bonus Unit 2. Agent Observability and Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UNITBONUS30/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bonus Unit 3. Agents in Games with Pokemon
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../inbox/2412_prompt_begin/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    inbox
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../books/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    books
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            books
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../books/2401%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2401‰ª£Á†ÅÈöèÊÉ≥ÂΩï
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../common/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    common
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            common
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/load_balancer_algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê∑±ÂÖ•ÁêÜËß£ÂõõÁßçÁªèÂÖ∏Ë¥üËΩΩÂùáË°°ÁÆóÊ≥ï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../os/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    OS
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../network/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Network
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../ds/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    DS
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../architecture/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../middleware/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Middleware
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../project/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Project
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../../../common/01-100_tips/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Common
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-llamaindexÁÆÄ‰ªã" class="md-nav__link">
    <span class="md-ellipsis">
      1. LlamaIndexÁÆÄ‰ªã
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-llamahubÁÆÄ‰ªã" class="md-nav__link">
    <span class="md-ellipsis">
      2. LlamaHubÁÆÄ‰ªã
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-llamaindex‰∏≠ÁöÑÁªÑ‰ª∂" class="md-nav__link">
    <span class="md-ellipsis">
      3. LlamaIndex‰∏≠ÁöÑÁªÑ‰ª∂
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-Âú®llamaindex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑" class="md-nav__link">
    <span class="md-ellipsis">
      4. Âú®LlamaIndex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-Âú®llamaindex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì" class="md-nav__link">
    <span class="md-ellipsis">
      5. Âú®LlamaIndex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-Âú®llamaindex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ" class="md-nav__link">
    <span class="md-ellipsis">
      6. Âú®LlamaIndex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="unit22-llamaindex-frameworks">UNIT2.2 LlamaIndex Frameworks<a class="headerlink" href="#unit22-llamaindex-frameworks" title="Permanent link">&para;</a></h1>
<h2 id="1-llamaindexÁÆÄ‰ªã">1. LlamaIndexÁÆÄ‰ªã<a class="headerlink" href="#1-llamaindexÁÆÄ‰ªã" title="Permanent link">&para;</a></h2>
<p>LlamaIndexÊòØ‰∏Ä‰∏™‰∏∫ÊûÑÂª∫LLMÈ©±Âä®Êô∫ËÉΩ‰ΩìÊèê‰æõÁöÑÂÆåÊï¥Â∑•ÂÖ∑ÂåÖÔºå‰∏ªË¶ÅÈÄöËøáÁ¥¢ÂºïÂíåÂ∑•‰ΩúÊµÅÂ§ÑÁêÜÊÇ®ÁöÑÊï∞ÊçÆ„ÄÇÂÖ∂Ê†∏ÂøÉÁªÑÊàêÂåÖÊã¨Ôºö</p>
<ul>
<li><strong>ÁªÑ‰ª∂</strong>ÔºöÂü∫Á°ÄÊûÑÂª∫Ê®°ÂùóÔºåÂ¶ÇÊèêÁ§∫ËØç„ÄÅÊ®°ÂûãÂíåÊï∞ÊçÆÂ∫ìÁ≠â</li>
<li><strong>Â∑•ÂÖ∑</strong>ÔºöÊèê‰æõÁâπÂÆöÂäüËÉΩÁöÑÁªÑ‰ª∂ÔºåÁî®‰∫éÊêúÁ¥¢„ÄÅËÆ°ÁÆóÊàñËÆøÈóÆÂ§ñÈÉ®ÊúçÂä°</li>
<li><strong>Êô∫ËÉΩ‰Ωì</strong>ÔºöËÉΩÂ§üËá™‰∏ª‰ΩøÁî®Â∑•ÂÖ∑Âπ∂ÂÅöÂá∫ÂÜ≥Á≠ñÁöÑÁã¨Á´ãÁªÑ‰ª∂</li>
<li><strong>Â∑•‰ΩúÊµÅ</strong>ÔºöÊåâÊ≠•È™§Â§ÑÁêÜÈÄªËæëÁöÑÊµÅÁ®ãÔºåÊó†ÈúÄÊòæÂºè‰ΩøÁî®Êô∫ËÉΩ‰ΩìÂç≥ÂèØÊûÑÂª∫Êô∫ËÉΩË°å‰∏∫</li>
</ul>
<p><strong>LlamaIndexÁöÑÁã¨Áâπ‰ºòÂäø</strong>Ôºö</p>
<ol>
<li><strong>Ê∏ÖÊô∞ÁöÑÂ∑•‰ΩúÊµÅÁ≥ªÁªü</strong>ÔºöÈÄöËøá‰∫ã‰ª∂È©±Âä®ÂíåÂºÇÊ≠•‰ºòÂÖàÁöÑËØ≠Ê≥ïÈÄêÊ≠•ÂàÜËß£ÂÜ≥Á≠ñËøáÁ®ã</li>
<li><strong>È´òÁ∫ßÊñáÊ°£Ëß£Êûê</strong>ÔºöÂü∫‰∫éLlamaParseÁöÑ‰∏ì‰∏öÊñáÊ°£Ëß£ÊûêÂ∑•ÂÖ∑</li>
<li><strong>‰∏∞ÂØåÁöÑÂç≥Áî®ÁªÑ‰ª∂</strong>Ôºö‰∏é‰ºóÂ§öÊ°ÜÊû∂ÂÖºÂÆπÔºåÊèê‰æõÂ§ßÈáèÈ™åËØÅÂèØÈù†ÁöÑÁªÑ‰ª∂</li>
<li><strong>LlamaHub</strong>ÔºöÂåÖÂê´Êï∞Áôæ‰∏™ÈõÜÊàêÁªÑ‰ª∂„ÄÅÊô∫ËÉΩ‰ΩìÂíåÂ∑•ÂÖ∑ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉ</li>
</ol>
<h2 id="2-llamahubÁÆÄ‰ªã">2. LlamaHubÁÆÄ‰ªã<a class="headerlink" href="#2-llamahubÁÆÄ‰ªã" title="Permanent link">&para;</a></h2>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291935497.png" /></p>
<p>LlamaHubÊòØ‰∏Ä‰∏™ÂåÖÂê´Êï∞Áôæ‰∏™ÈõÜÊàêÁªÑ‰ª∂„ÄÅÊô∫ËÉΩ‰ΩìÂíåÂ∑•ÂÖ∑ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÔºå‰∏∫LlamaIndexÊ°ÜÊû∂Êèê‰æõËµÑÊ∫ê„ÄÇ</p>
<p><strong>1. ÂÆâË£ÖÁªÑ‰ª∂</strong></p>
<p>ÂÆâË£ÖÂëΩ‰ª§ÈÅµÂæ™Áªü‰∏ÄÊ†ºÂºèÔºö
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos="1 "></span></a>pip<span class="w"> </span>install<span class="w"> </span>llama-index-<span class="o">{</span>component-type<span class="o">}</span>-<span class="o">{</span>framework-name<span class="o">}</span>
</code></pre></div></p>
<p>‰æãÂ¶ÇÔºåÂÆâË£ÖHugging FaceÊé®ÁêÜAPIÈõÜÊàêÔºö
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><a href="#__codelineno-1-1"><span class="linenos" data-linenos="1 "></span></a>pip<span class="w"> </span>install<span class="w"> </span>llama-index-llms-huggingface-api
</code></pre></div></p>
<p><strong>2. ‰ΩøÁî®Á§∫‰æã</strong></p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><a href="#__codelineno-2-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.llms.huggingface_api</span> <span class="kn">import</span> <span class="n">HuggingFaceInferenceAPI</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><a href="#__codelineno-2-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><a href="#__codelineno-2-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="n">llm</span> <span class="o">=</span> <span class="n">HuggingFaceInferenceAPI</span><span class="p">(</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><a href="#__codelineno-2-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;Qwen/Qwen2.5-Coder-32B-Instruct&quot;</span><span class="p">,</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><a href="#__codelineno-2-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="n">temperature</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><a href="#__codelineno-2-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><a href="#__codelineno-2-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="n">token</span><span class="o">=</span><span class="s2">&quot;hf_xxx&quot;</span><span class="p">,</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><a href="#__codelineno-2-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><a href="#__codelineno-2-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><a href="#__codelineno-2-10"><span class="linenos" data-linenos="10 "></span></a><span class="n">llm</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="s2">&quot;Hello, how are you?&quot;</span><span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><a href="#__codelineno-2-11"><span class="linenos" data-linenos="11 "></span></a><span class="c1"># ËæìÂá∫: I am good, how can I help you today?</span>
</code></pre></div>
<h2 id="3-llamaindex‰∏≠ÁöÑÁªÑ‰ª∂">3. LlamaIndex‰∏≠ÁöÑÁªÑ‰ª∂<a class="headerlink" href="#3-llamaindex‰∏≠ÁöÑÁªÑ‰ª∂" title="Permanent link">&para;</a></h2>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291935656.png" /></p>
<p><strong>#RAGÊµÅÁ®ãÁöÑ‰∫î‰∏™ÂÖ≥ÈîÆÈò∂ÊÆµ</strong></p>
<ol>
<li><strong>Âä†ËΩΩ</strong>Ôºö‰ªéÂéüÂßã‰ΩçÁΩÆÂØºÂÖ•Êï∞ÊçÆ</li>
<li><strong>Á¥¢Âºï</strong>ÔºöÂàõÂª∫‰æø‰∫éÊü•ËØ¢ÁöÑÊï∞ÊçÆÁªìÊûÑ</li>
<li><strong>Â≠òÂÇ®</strong>ÔºöÊåÅ‰πÖÂåñÂ≠òÂÇ®Á¥¢ÂºïÔºåÈÅøÂÖçÈáçÂ§çÊûÑÂª∫</li>
<li><strong>Êü•ËØ¢</strong>ÔºöÊîØÊåÅÂ§öÁßçÊ£ÄÁ¥¢Á≠ñÁï•</li>
<li><strong>ËØÑ‰º∞</strong>ÔºöÈÄöËøáÂÆ¢ËßÇÊåáÊ†áËØÑ‰º∞ÂìçÂ∫îË¥®Èáè</li>
</ol>
<p><strong>#Êï∞ÊçÆÂä†ËΩΩ‰∏éÂµåÂÖ•</strong></p>
<p>LlamaIndexÊèê‰æõ‰∏âÁßç‰∏ªË¶ÅÊï∞ÊçÆÂä†ËΩΩÊñπÂºèÔºö</p>
<ol>
<li><strong>SimpleDirectoryReader</strong>Ôºö‰ªéÊú¨Âú∞ÁõÆÂΩïÂä†ËΩΩÂ§öÁßçÊñá‰ª∂Á±ªÂûã</li>
<li><strong>LlamaParse</strong>ÔºöÂÆòÊñπPDFËß£ÊûêÂ∑•ÂÖ∑</li>
<li><strong>LlamaHub</strong>ÔºöÂåÖÂê´Êï∞Áôæ‰∏™Êï∞ÊçÆÂä†ËΩΩÂ∫ìÁöÑÊ≥®ÂÜå‰∏≠ÂøÉ</li>
</ol>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><a href="#__codelineno-3-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core</span> <span class="kn">import</span> <span class="n">SimpleDirectoryReader</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><a href="#__codelineno-3-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><a href="#__codelineno-3-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">reader</span> <span class="o">=</span> <span class="n">SimpleDirectoryReader</span><span class="p">(</span><span class="n">input_dir</span><span class="o">=</span><span class="s2">&quot;path/to/directory&quot;</span><span class="p">)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><a href="#__codelineno-3-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">documents</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
</code></pre></div>
<p>Âä†ËΩΩÂêéÈúÄË¶ÅÂ∞ÜÊñáÊ°£ÂàÜËß£‰∏∫Êõ¥Â∞èÁöÑ<strong>Node</strong>ÂØπË±°Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><a href="#__codelineno-4-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core</span> <span class="kn">import</span> <span class="n">Document</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><a href="#__codelineno-4-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kn">from</span> <span class="nn">llama_index.embeddings.huggingface_api</span> <span class="kn">import</span> <span class="n">HuggingFaceInferenceAPIEmbedding</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><a href="#__codelineno-4-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.node_parser</span> <span class="kn">import</span> <span class="n">SentenceSplitter</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><a href="#__codelineno-4-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.ingestion</span> <span class="kn">import</span> <span class="n">IngestionPipeline</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><a href="#__codelineno-4-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><a href="#__codelineno-4-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="c1"># ÂàõÂª∫ÊëÑÂèñÁÆ°ÈÅì</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><a href="#__codelineno-4-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="n">pipeline</span> <span class="o">=</span> <span class="n">IngestionPipeline</span><span class="p">(</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><a href="#__codelineno-4-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="n">transformations</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><a href="#__codelineno-4-9"><span class="linenos" data-linenos=" 9 "></span></a>        <span class="n">SentenceSplitter</span><span class="p">(</span><span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><a href="#__codelineno-4-10"><span class="linenos" data-linenos="10 "></span></a>        <span class="n">HuggingFaceInferenceAPIEmbedding</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;BAAI/bge-small-en-v1.5&quot;</span><span class="p">),</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><a href="#__codelineno-4-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="p">]</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><a href="#__codelineno-4-12"><span class="linenos" data-linenos="12 "></span></a><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><a href="#__codelineno-4-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><a href="#__codelineno-4-14"><span class="linenos" data-linenos="14 "></span></a><span class="n">nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">arun</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span><span class="p">[</span><span class="n">Document</span><span class="o">.</span><span class="n">example</span><span class="p">()])</span>
</code></pre></div>
<p><strong>#Â≠òÂÇ®‰∏éÁ¥¢ÂºïÊñáÊ°£</strong></p>
<p>‰ΩøÁî®ÂêëÈáèÂ≠òÂÇ®Êù•Â≠òÂÇ®ÊñáÊ°£Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><a href="#__codelineno-5-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">import</span> <span class="nn">chromadb</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><a href="#__codelineno-5-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kn">from</span> <span class="nn">llama_index.vector_stores.chroma</span> <span class="kn">import</span> <span class="n">ChromaVectorStore</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><a href="#__codelineno-5-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><a href="#__codelineno-5-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="n">db</span> <span class="o">=</span> <span class="n">chromadb</span><span class="o">.</span><span class="n">PersistentClient</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;./alfred_chroma_db&quot;</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><a href="#__codelineno-5-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="n">chroma_collection</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_or_create_collection</span><span class="p">(</span><span class="s2">&quot;alfred&quot;</span><span class="p">)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><a href="#__codelineno-5-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaVectorStore</span><span class="p">(</span><span class="n">chroma_collection</span><span class="o">=</span><span class="n">chroma_collection</span><span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><a href="#__codelineno-5-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><a href="#__codelineno-5-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="n">pipeline</span> <span class="o">=</span> <span class="n">IngestionPipeline</span><span class="p">(</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><a href="#__codelineno-5-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="n">transformations</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><a href="#__codelineno-5-10"><span class="linenos" data-linenos="10 "></span></a>        <span class="n">SentenceSplitter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><a href="#__codelineno-5-11"><span class="linenos" data-linenos="11 "></span></a>        <span class="n">HuggingFaceInferenceAPIEmbedding</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;BAAI/bge-small-en-v1.5&quot;</span><span class="p">),</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><a href="#__codelineno-5-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="p">],</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><a href="#__codelineno-5-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">,</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><a href="#__codelineno-5-14"><span class="linenos" data-linenos="14 "></span></a><span class="p">)</span>
</code></pre></div>
<p>ÂàõÂª∫ÂêëÈáèÂ≠òÂÇ®Á¥¢ÂºïÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><a href="#__codelineno-6-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core</span> <span class="kn">import</span> <span class="n">VectorStoreIndex</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><a href="#__codelineno-6-2"><span class="linenos" data-linenos="2 "></span></a><span class="kn">from</span> <span class="nn">llama_index.embeddings.huggingface_api</span> <span class="kn">import</span> <span class="n">HuggingFaceInferenceAPIEmbedding</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><a href="#__codelineno-6-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><a href="#__codelineno-6-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">embed_model</span> <span class="o">=</span> <span class="n">HuggingFaceInferenceAPIEmbedding</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;BAAI/bge-small-en-v1.5&quot;</span><span class="p">)</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><a href="#__codelineno-6-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="o">.</span><span class="n">from_vector_store</span><span class="p">(</span><span class="n">vector_store</span><span class="p">,</span> <span class="n">embed_model</span><span class="o">=</span><span class="n">embed_model</span><span class="p">)</span>
</code></pre></div>
<p><strong>#Êü•ËØ¢VectorStoreIndex</strong></p>
<p>Êü•ËØ¢Á¥¢ÂºïÁöÑÂ∏∏ËßÅËΩ¨Êç¢ÈÄâÈ°πÔºö</p>
<ul>
<li><strong>as_retriever</strong>ÔºöÂü∫Á°ÄÊñáÊ°£Ê£ÄÁ¥¢</li>
<li><strong>as_query_engine</strong>ÔºöÂçïÊ¨°ÈóÆÁ≠î‰∫§‰∫í</li>
<li><strong>as_chat_engine</strong>Ôºö‰øùÊåÅË∑®Ê∂àÊÅØËÆ∞ÂøÜÁöÑÂØπËØù‰∫§‰∫í</li>
</ul>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><a href="#__codelineno-7-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.llms.huggingface_api</span> <span class="kn">import</span> <span class="n">HuggingFaceInferenceAPI</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><a href="#__codelineno-7-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><a href="#__codelineno-7-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">llm</span> <span class="o">=</span> <span class="n">HuggingFaceInferenceAPI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;Qwen/Qwen2.5-Coder-32B-Instruct&quot;</span><span class="p">)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><a href="#__codelineno-7-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">query_engine</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><a href="#__codelineno-7-5"><span class="linenos" data-linenos="5 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><a href="#__codelineno-7-6"><span class="linenos" data-linenos="6 "></span></a>    <span class="n">response_mode</span><span class="o">=</span><span class="s2">&quot;tree_summarize&quot;</span><span class="p">,</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><a href="#__codelineno-7-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">)</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><a href="#__codelineno-7-8"><span class="linenos" data-linenos="8 "></span></a><span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;What is the meaning of life?&quot;</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><a href="#__codelineno-7-9"><span class="linenos" data-linenos="9 "></span></a><span class="c1"># ËæìÂá∫: The meaning of life is 42</span>
</code></pre></div>
<p><strong>#ÂìçÂ∫îÂ§ÑÁêÜ</strong></p>
<p>Êü•ËØ¢ÂºïÊìé‰ΩøÁî®<strong>ResponseSynthesizer</strong>‰Ωú‰∏∫ÂìçÂ∫îÂ§ÑÁêÜÁ≠ñÁï•ÔºåÊèê‰æõ‰∏âÁßçÂ∑•‰ΩúÁ≠ñÁï•Ôºö</p>
<ol>
<li><strong>refine</strong>ÔºàËø≠‰ª£‰ºòÂåñÔºâÔºöÈÄê‰∏™Â§ÑÁêÜÊØè‰∏™Ê£ÄÁ¥¢Âà∞ÁöÑÊñáÊú¨Âùó</li>
<li><strong>compact</strong>ÔºàÁ¥ßÂáëÊ®°ÂºèÔºåÈªòËÆ§ÔºâÔºöÈ¢ÑÂÖàÊãºÊé•ÊñáÊú¨ÂùóÔºåÂáèÂ∞ëLLMË∞ÉÁî®Ê¨°Êï∞</li>
<li><strong>tree_summarize</strong>ÔºàÊ†ëÁä∂ÂΩíÁ∫≥ÔºâÔºöÊûÑÂª∫Á≠îÊ°àÁöÑÊ†ëÁä∂ÁªìÊûÑÁîüÊàêËØ¶ÁªÜÂìçÂ∫î</li>
</ol>
<p><strong>#ËØÑ‰º∞‰∏éÂèØËßÇÊµãÊÄß</strong></p>
<p>LlamaIndexÊèê‰æõÂÜÖÁΩÆËØÑ‰º∞Â∑•ÂÖ∑Ôºö</p>
<ol>
<li><strong>FaithfulnessEvaluator</strong>ÔºöÈ™åËØÅÁ≠îÊ°àÊòØÂê¶ÂæóÂà∞‰∏ä‰∏ãÊñáÊîØÊåÅ</li>
<li><strong>AnswerRelevancyEvaluator</strong>ÔºöËØÑ‰º∞Á≠îÊ°à‰∏éÈóÆÈ¢òÁöÑÂÖ≥ËÅîÁ®ãÂ∫¶</li>
<li><strong>CorrectnessEvaluator</strong>ÔºöÊ£ÄÈ™åÁ≠îÊ°àÁöÑÊ≠£Á°ÆÊÄß</li>
</ol>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><a href="#__codelineno-8-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.evaluation</span> <span class="kn">import</span> <span class="n">FaithfulnessEvaluator</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><a href="#__codelineno-8-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><a href="#__codelineno-8-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">evaluator</span> <span class="o">=</span> <span class="n">FaithfulnessEvaluator</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">)</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><a href="#__codelineno-8-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;What battles took place in New York City in the American Revolution?&quot;</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><a href="#__codelineno-8-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">eval_result</span> <span class="o">=</span> <span class="n">evaluator</span><span class="o">.</span><span class="n">evaluate_response</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="n">response</span><span class="p">)</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><a href="#__codelineno-8-6"><span class="linenos" data-linenos="6 "></span></a><span class="n">eval_result</span><span class="o">.</span><span class="n">passing</span>
</code></pre></div>
<h2 id="4-Âú®llamaindex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑">4. Âú®LlamaIndex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑<a class="headerlink" href="#4-Âú®llamaindex‰∏≠‰ΩøÁî®Â∑•ÂÖ∑" title="Permanent link">&para;</a></h2>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291935563.png" /></p>
<p>LlamaIndex‰∏≠‰∏ªË¶ÅÂåÖÂê´ÂõõÁßçÂ∑•ÂÖ∑Á±ªÂûãÔºö</p>
<ol>
<li><strong>FunctionTool</strong>ÔºöÂ∞Ü‰ªªÊÑèPythonÂáΩÊï∞ËΩ¨Êç¢‰∏∫Êô∫ËÉΩ‰ΩìÂèØÁî®ÁöÑÂ∑•ÂÖ∑</li>
<li><strong>QueryEngineTool</strong>ÔºöËÆ©Êô∫ËÉΩ‰ΩìËÉΩÂ§ü‰ΩøÁî®Êü•ËØ¢ÂºïÊìé</li>
<li><strong>Toolspecs</strong>ÔºöÁ§æÂå∫ÂàõÂª∫ÁöÑÈ¢ÑËÆæÂ∑•ÂÖ∑ÈõÜ</li>
<li><strong>Utility Tools</strong>ÔºöÂ§ÑÁêÜÂ§ßÈáèÊï∞ÊçÆÁöÑÁâπÊÆäÂ∑•ÂÖ∑</li>
</ol>
<p><strong>#ÂàõÂª∫FunctionTool</strong></p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><a href="#__codelineno-9-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.tools</span> <span class="kn">import</span> <span class="n">FunctionTool</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><a href="#__codelineno-9-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><a href="#__codelineno-9-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">def</span> <span class="nf">get_weather</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><a href="#__codelineno-9-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Useful for getting the weather for a given location.&quot;&quot;&quot;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><a href="#__codelineno-9-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Getting weather for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><a href="#__codelineno-9-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;The weather in </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2"> is sunny&quot;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><a href="#__codelineno-9-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><a href="#__codelineno-9-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="n">tool</span> <span class="o">=</span> <span class="n">FunctionTool</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><a href="#__codelineno-9-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="n">get_weather</span><span class="p">,</span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><a href="#__codelineno-9-10"><span class="linenos" data-linenos="10 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_weather_tool&quot;</span><span class="p">,</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><a href="#__codelineno-9-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Useful for getting the weather for a given location.&quot;</span><span class="p">,</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><a href="#__codelineno-9-12"><span class="linenos" data-linenos="12 "></span></a><span class="p">)</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a><a href="#__codelineno-9-13"><span class="linenos" data-linenos="13 "></span></a><span class="n">tool</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;New York&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>#ÂàõÂª∫QueryEngineTool</strong></p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><a href="#__codelineno-10-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.tools</span> <span class="kn">import</span> <span class="n">QueryEngineTool</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><a href="#__codelineno-10-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><a href="#__codelineno-10-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">tool</span> <span class="o">=</span> <span class="n">QueryEngineTool</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><a href="#__codelineno-10-4"><span class="linenos" data-linenos="4 "></span></a>    <span class="n">query_engine</span><span class="p">,</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><a href="#__codelineno-10-5"><span class="linenos" data-linenos="5 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;some useful name&quot;</span><span class="p">,</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><a href="#__codelineno-10-6"><span class="linenos" data-linenos="6 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;some useful description&quot;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><a href="#__codelineno-10-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">)</span>
</code></pre></div>
<p><strong>#ÂàõÂª∫Toolspecs</strong></p>
<p>ToolspecsÊòØÂèØ‰ª•ÂíåË∞êÂçè‰ΩúÁöÑÂ∑•ÂÖ∑ÈõÜÂêàÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><a href="#__codelineno-11-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.tools.google</span> <span class="kn">import</span> <span class="n">GmailToolSpec</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><a href="#__codelineno-11-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><a href="#__codelineno-11-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">tool_spec</span> <span class="o">=</span> <span class="n">GmailToolSpec</span><span class="p">()</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><a href="#__codelineno-11-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">tool_spec_list</span> <span class="o">=</span> <span class="n">tool_spec</span><span class="o">.</span><span class="n">to_tool_list</span><span class="p">()</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><a href="#__codelineno-11-5"><span class="linenos" data-linenos="5 "></span></a>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><a href="#__codelineno-11-6"><span class="linenos" data-linenos="6 "></span></a><span class="c1"># Êü•ÁúãÂ∑•ÂÖ∑ÂÖÉÊï∞ÊçÆ</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><a href="#__codelineno-11-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">[(</span><span class="n">tool</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">tool</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">description</span><span class="p">)</span> <span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">tool_spec_list</span><span class="p">]</span>
</code></pre></div>
<p><strong>#ÂÆûÁî®Â∑•ÂÖ∑</strong></p>
<p>Êúâ‰∏§Áßç‰∏ªË¶ÅÁöÑÂÆûÁî®Â∑•ÂÖ∑Ôºö</p>
<ol>
<li><strong>OnDemandToolLoader</strong>ÔºöÂ∞Ü‰ªª‰ΩïÁé∞ÊúâÁöÑLlamaIndexÊï∞ÊçÆÂä†ËΩΩÂô®ËΩ¨Âåñ‰∏∫Êô∫ËÉΩ‰ΩìÂèØ‰ΩøÁî®ÁöÑÂ∑•ÂÖ∑</li>
<li><strong>LoadAndSearchToolSpec</strong>ÔºöÊé•Âèó‰ªª‰ΩïÁé∞ÊúâÂ∑•ÂÖ∑‰Ωú‰∏∫ËæìÂÖ•ÁöÑÂ∑•ÂÖ∑ËßÑËåÉÔºåËøîÂõûÂä†ËΩΩÂ∑•ÂÖ∑ÂíåÊêúÁ¥¢Â∑•ÂÖ∑</li>
</ol>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291938253.png" /></p>
<h2 id="5-Âú®llamaindex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì">5. Âú®LlamaIndex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì<a class="headerlink" href="#5-Âú®llamaindex‰∏≠‰ΩøÁî®Êô∫ËÉΩ‰Ωì" title="Permanent link">&para;</a></h2>
<p>LlamaIndexÊîØÊåÅ‰∏âÁßç‰∏ªË¶ÅÁ±ªÂûãÁöÑÊé®ÁêÜÊô∫ËÉΩ‰ΩìÔºö</p>
<ol>
<li><strong>ÂáΩÊï∞Ë∞ÉÁî®Êô∫ËÉΩ‰Ωì</strong>ÔºöÈÄÇÁî®‰∫éÊîØÊåÅË∞ÉÁî®ÁâπÂÆöÂáΩÊï∞ÁöÑAIÊ®°Âûã</li>
<li><strong>ReActÊô∫ËÉΩ‰Ωì</strong>ÔºöÈÄÇÁî®‰∫éÂÖ∑ÊúâËÅäÂ§©ÊàñÊñáÊú¨ÂÆåÊàêËÉΩÂäõÁöÑAIÊ®°ÂûãÔºåÊìÖÈïøÂ§çÊùÇÊé®ÁêÜ‰ªªÂä°</li>
<li><strong>È´òÁ∫ßËá™ÂÆö‰πâÊô∫ËÉΩ‰Ωì</strong>Ôºö‰ΩøÁî®Êõ¥Â§çÊùÇÊñπÊ≥ïÂ§ÑÁêÜÈ´òÈò∂‰ªªÂä°ÂíåÂ∑•‰ΩúÊµÅ</li>
</ol>
<p><strong>#ÂàùÂßãÂåñÊô∫ËÉΩ‰Ωì</strong></p>
<p>ÂàõÂª∫Êô∫ËÉΩ‰ΩìÈúÄË¶Å‰∏∫ÂÖ∂Êèê‰æõÂÆö‰πâËÉΩÂäõÁöÑÂ∑•ÂÖ∑ÈõÜÂêàÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><a href="#__codelineno-12-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.llms.huggingface_api</span> <span class="kn">import</span> <span class="n">HuggingFaceInferenceAPI</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><a href="#__codelineno-12-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.agent.workflow</span> <span class="kn">import</span> <span class="n">AgentWorkflow</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><a href="#__codelineno-12-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.tools</span> <span class="kn">import</span> <span class="n">FunctionTool</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><a href="#__codelineno-12-4"><span class="linenos" data-linenos=" 4 "></span></a>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><a href="#__codelineno-12-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="c1"># ÂÆö‰πâÁ§∫‰æãÂ∑•ÂÖ∑</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><a href="#__codelineno-12-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><a href="#__codelineno-12-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Multiplies two integers and returns the resulting integer&quot;&quot;&quot;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><a href="#__codelineno-12-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><a href="#__codelineno-12-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><a href="#__codelineno-12-10"><span class="linenos" data-linenos="10 "></span></a><span class="c1"># ÂàùÂßãÂåñLLM</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><a href="#__codelineno-12-11"><span class="linenos" data-linenos="11 "></span></a><span class="n">llm</span> <span class="o">=</span> <span class="n">HuggingFaceInferenceAPI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;Qwen/Qwen2.5-Coder-32B-Instruct&quot;</span><span class="p">)</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><a href="#__codelineno-12-12"><span class="linenos" data-linenos="12 "></span></a>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><a href="#__codelineno-12-13"><span class="linenos" data-linenos="13 "></span></a><span class="c1"># ÂàùÂßãÂåñÊô∫ËÉΩ‰Ωì</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><a href="#__codelineno-12-14"><span class="linenos" data-linenos="14 "></span></a><span class="n">agent</span> <span class="o">=</span> <span class="n">AgentWorkflow</span><span class="o">.</span><span class="n">from_tools_or_functions</span><span class="p">(</span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><a href="#__codelineno-12-15"><span class="linenos" data-linenos="15 "></span></a>    <span class="p">[</span><span class="n">FunctionTool</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">multiply</span><span class="p">)],</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a><a href="#__codelineno-12-16"><span class="linenos" data-linenos="16 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a><a href="#__codelineno-12-17"><span class="linenos" data-linenos="17 "></span></a><span class="p">)</span>
</code></pre></div>
<p>Êô∫ËÉΩ‰ΩìÈªòËÆ§ÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÂ¶ÇÈúÄËÆ∞ÂøÜËøáÂæÄ‰∫§‰∫íÔºåÈúÄÊòæÂºè‰ΩøÁî®ContextÂØπË±°Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><a href="#__codelineno-13-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Êó†Áä∂ÊÄÅË∞ÉÁî®</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><a href="#__codelineno-13-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;What is 2 times 2?&quot;</span><span class="p">)</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><a href="#__codelineno-13-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><a href="#__codelineno-13-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1"># ËÆ∞ÂøÜÁä∂ÊÄÅ</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><a href="#__codelineno-13-5"><span class="linenos" data-linenos="5 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.workflow</span> <span class="kn">import</span> <span class="n">Context</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><a href="#__codelineno-13-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><a href="#__codelineno-13-7"><span class="linenos" data-linenos="7 "></span></a><span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><a href="#__codelineno-13-8"><span class="linenos" data-linenos="8 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;My name is Bob.&quot;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">ctx</span><span class="p">)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><a href="#__codelineno-13-9"><span class="linenos" data-linenos="9 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;What was my name again?&quot;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">ctx</span><span class="p">)</span>
</code></pre></div>
<p><strong>#‰ΩøÁî®QueryEngineToolsÂàõÂª∫RAGÊô∫ËÉΩ‰Ωì</strong></p>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291939285.png" /></p>
<p>Êô∫ËÉΩ‰ΩìÂ¢ûÂº∫Ê£ÄÁ¥¢(Agentic RAG)ÊòØÈÄöËøáÊô∫ËÉΩ‰ΩìÂÆûÁé∞Êï∞ÊçÆÈóÆÁ≠îÁöÑÂº∫Â§ßËåÉÂºèÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><a href="#__codelineno-14-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.tools</span> <span class="kn">import</span> <span class="n">QueryEngineTool</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><a href="#__codelineno-14-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><a href="#__codelineno-14-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="n">query_engine</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span> <span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><a href="#__codelineno-14-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="n">query_engine_tool</span> <span class="o">=</span> <span class="n">QueryEngineTool</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><a href="#__codelineno-14-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="n">query_engine</span><span class="o">=</span><span class="n">query_engine</span><span class="p">,</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><a href="#__codelineno-14-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><a href="#__codelineno-14-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;a specific description&quot;</span><span class="p">,</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><a href="#__codelineno-14-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="n">return_direct</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><a href="#__codelineno-14-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="p">)</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><a href="#__codelineno-14-10"><span class="linenos" data-linenos="10 "></span></a><span class="n">query_engine_agent</span> <span class="o">=</span> <span class="n">AgentWorkflow</span><span class="o">.</span><span class="n">from_tools_or_functions</span><span class="p">(</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><a href="#__codelineno-14-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="p">[</span><span class="n">query_engine_tool</span><span class="p">],</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><a href="#__codelineno-14-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><a href="#__codelineno-14-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;You are a helpful assistant that has access to a database containing persona descriptions.&quot;</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><a href="#__codelineno-14-14"><span class="linenos" data-linenos="14 "></span></a><span class="p">)</span>
</code></pre></div>
<p><strong># ÂàõÂª∫Â§öÊô∫ËÉΩ‰ΩìÁ≥ªÁªü</strong></p>
<p>AgentWorkflowÁ±ªÂéüÁîüÊîØÊåÅÂ§öÊô∫ËÉΩ‰ΩìÁ≥ªÁªüÔºåÊô∫ËÉΩ‰Ωì‰πãÈó¥ÂèØËøõË°å‰ªªÂä°‰∫§Êé•Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><a href="#__codelineno-15-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.agent.workflow</span> <span class="kn">import</span> <span class="p">(</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><a href="#__codelineno-15-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="n">AgentWorkflow</span><span class="p">,</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><a href="#__codelineno-15-3"><span class="linenos" data-linenos=" 3 "></span></a>    <span class="n">FunctionAgent</span><span class="p">,</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><a href="#__codelineno-15-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="n">ReActAgent</span><span class="p">,</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><a href="#__codelineno-15-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="p">)</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><a href="#__codelineno-15-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><a href="#__codelineno-15-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="c1"># ÂÆö‰πâÂ∑•ÂÖ∑</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><a href="#__codelineno-15-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><a href="#__codelineno-15-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Add two numbers.&quot;&quot;&quot;</span>
<a id="__codelineno-15-10" name="__codelineno-15-10"></a><a href="#__codelineno-15-10"><span class="linenos" data-linenos="10 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<a id="__codelineno-15-11" name="__codelineno-15-11"></a><a href="#__codelineno-15-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-15-12" name="__codelineno-15-12"></a><a href="#__codelineno-15-12"><span class="linenos" data-linenos="12 "></span></a><span class="k">def</span> <span class="nf">subtract</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-15-13" name="__codelineno-15-13"></a><a href="#__codelineno-15-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Subtract two numbers.&quot;&quot;&quot;</span>
<a id="__codelineno-15-14" name="__codelineno-15-14"></a><a href="#__codelineno-15-14"><span class="linenos" data-linenos="14 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
<a id="__codelineno-15-15" name="__codelineno-15-15"></a><a href="#__codelineno-15-15"><span class="linenos" data-linenos="15 "></span></a>
<a id="__codelineno-15-16" name="__codelineno-15-16"></a><a href="#__codelineno-15-16"><span class="linenos" data-linenos="16 "></span></a><span class="c1"># ÂàõÂª∫Êô∫ËÉΩ‰ΩìÈÖçÁΩÆ</span>
<a id="__codelineno-15-17" name="__codelineno-15-17"></a><a href="#__codelineno-15-17"><span class="linenos" data-linenos="17 "></span></a><span class="n">calculator_agent</span> <span class="o">=</span> <span class="n">ReActAgent</span><span class="p">(</span>
<a id="__codelineno-15-18" name="__codelineno-15-18"></a><a href="#__codelineno-15-18"><span class="linenos" data-linenos="18 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;calculator&quot;</span><span class="p">,</span>
<a id="__codelineno-15-19" name="__codelineno-15-19"></a><a href="#__codelineno-15-19"><span class="linenos" data-linenos="19 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Performs basic arithmetic operations&quot;</span><span class="p">,</span>
<a id="__codelineno-15-20" name="__codelineno-15-20"></a><a href="#__codelineno-15-20"><span class="linenos" data-linenos="20 "></span></a>    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;You are a calculator assistant. Use your tools for any math operation.&quot;</span><span class="p">,</span>
<a id="__codelineno-15-21" name="__codelineno-15-21"></a><a href="#__codelineno-15-21"><span class="linenos" data-linenos="21 "></span></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">add</span><span class="p">,</span> <span class="n">subtract</span><span class="p">],</span>
<a id="__codelineno-15-22" name="__codelineno-15-22"></a><a href="#__codelineno-15-22"><span class="linenos" data-linenos="22 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<a id="__codelineno-15-23" name="__codelineno-15-23"></a><a href="#__codelineno-15-23"><span class="linenos" data-linenos="23 "></span></a><span class="p">)</span>
<a id="__codelineno-15-24" name="__codelineno-15-24"></a><a href="#__codelineno-15-24"><span class="linenos" data-linenos="24 "></span></a>
<a id="__codelineno-15-25" name="__codelineno-15-25"></a><a href="#__codelineno-15-25"><span class="linenos" data-linenos="25 "></span></a><span class="n">query_agent</span> <span class="o">=</span> <span class="n">ReActAgent</span><span class="p">(</span>
<a id="__codelineno-15-26" name="__codelineno-15-26"></a><a href="#__codelineno-15-26"><span class="linenos" data-linenos="26 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;info_lookup&quot;</span><span class="p">,</span>
<a id="__codelineno-15-27" name="__codelineno-15-27"></a><a href="#__codelineno-15-27"><span class="linenos" data-linenos="27 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Looks up information about XYZ&quot;</span><span class="p">,</span>
<a id="__codelineno-15-28" name="__codelineno-15-28"></a><a href="#__codelineno-15-28"><span class="linenos" data-linenos="28 "></span></a>    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;Use your tool to query a RAG system to answer information about XYZ&quot;</span><span class="p">,</span>
<a id="__codelineno-15-29" name="__codelineno-15-29"></a><a href="#__codelineno-15-29"><span class="linenos" data-linenos="29 "></span></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">query_engine_tool</span><span class="p">],</span>
<a id="__codelineno-15-30" name="__codelineno-15-30"></a><a href="#__codelineno-15-30"><span class="linenos" data-linenos="30 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span>
<a id="__codelineno-15-31" name="__codelineno-15-31"></a><a href="#__codelineno-15-31"><span class="linenos" data-linenos="31 "></span></a><span class="p">)</span>
<a id="__codelineno-15-32" name="__codelineno-15-32"></a><a href="#__codelineno-15-32"><span class="linenos" data-linenos="32 "></span></a>
<a id="__codelineno-15-33" name="__codelineno-15-33"></a><a href="#__codelineno-15-33"><span class="linenos" data-linenos="33 "></span></a><span class="c1"># ÂàõÂª∫Âπ∂ËøêË°åÂ∑•‰ΩúÊµÅ</span>
<a id="__codelineno-15-34" name="__codelineno-15-34"></a><a href="#__codelineno-15-34"><span class="linenos" data-linenos="34 "></span></a><span class="n">agent</span> <span class="o">=</span> <span class="n">AgentWorkflow</span><span class="p">(</span>
<a id="__codelineno-15-35" name="__codelineno-15-35"></a><a href="#__codelineno-15-35"><span class="linenos" data-linenos="35 "></span></a>    <span class="n">agents</span><span class="o">=</span><span class="p">[</span><span class="n">calculator_agent</span><span class="p">,</span> <span class="n">query_agent</span><span class="p">],</span>
<a id="__codelineno-15-36" name="__codelineno-15-36"></a><a href="#__codelineno-15-36"><span class="linenos" data-linenos="36 "></span></a>    <span class="n">root_agent</span><span class="o">=</span><span class="s2">&quot;calculator&quot;</span>
<a id="__codelineno-15-37" name="__codelineno-15-37"></a><a href="#__codelineno-15-37"><span class="linenos" data-linenos="37 "></span></a><span class="p">)</span>
<a id="__codelineno-15-38" name="__codelineno-15-38"></a><a href="#__codelineno-15-38"><span class="linenos" data-linenos="38 "></span></a>
<a id="__codelineno-15-39" name="__codelineno-15-39"></a><a href="#__codelineno-15-39"><span class="linenos" data-linenos="39 "></span></a><span class="c1"># ËøêË°åÁ≥ªÁªü</span>
<a id="__codelineno-15-40" name="__codelineno-15-40"></a><a href="#__codelineno-15-40"><span class="linenos" data-linenos="40 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">user_msg</span><span class="o">=</span><span class="s2">&quot;Can you add 5 and 3?&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="6-Âú®llamaindex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ">6. Âú®LlamaIndex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ<a class="headerlink" href="#6-Âú®llamaindex‰∏≠ÂàõÂª∫Êô∫ËÉΩÂ∑•‰ΩúÊµÅ" title="Permanent link">&para;</a></h2>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291939899.png" /></p>
<p>LlamaIndexÂ∑•‰ΩúÊµÅÊèê‰æõÁªìÊûÑÂåñÊñπÂºèÁªÑÁªá‰ª£Á†ÅÔºåÈÄöËøáÂÆö‰πâÁî±<strong>‰∫ã‰ª∂(Events)</strong>Ëß¶ÂèëÁöÑ<strong>Ê≠•È™§(Steps)</strong>ÂàõÂª∫ÔºåÊ≠•È™§Êú¨Ë∫´‰πü‰ºöÂèëÂá∫<strong>‰∫ã‰ª∂</strong>Ëß¶ÂèëÂêéÁª≠Ê≠•È™§„ÄÇ</p>
<p>Â∑•‰ΩúÊµÅÁöÑÂÖ≥ÈîÆ‰ºòÂäøÔºö
- Â∞Ü‰ª£Á†ÅÊ∏ÖÊô∞ÁªÑÁªá‰∏∫Á¶ªÊï£Ê≠•È™§
- ‰∫ã‰ª∂È©±Âä®Êû∂ÊûÑÂÆûÁé∞ÁÅµÊ¥ªÊéßÂà∂ÊµÅ
- Ê≠•È™§Èó¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄö‰ø°
- ÂÜÖÁΩÆÁä∂ÊÄÅÁÆ°ÁêÜ
- ÊîØÊåÅÁÆÄÂçïÂíåÂ§çÊùÇÁöÑÊô∫ËÉΩ‰Ωì‰∫§‰∫í</p>
<p><strong>1. ÂàõÂª∫Âü∫Á°ÄÂ∑•‰ΩúÊµÅ</strong></p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><a href="#__codelineno-16-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.workflow</span> <span class="kn">import</span> <span class="n">StartEvent</span><span class="p">,</span> <span class="n">StopEvent</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">step</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><a href="#__codelineno-16-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><a href="#__codelineno-16-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">class</span> <span class="nc">MyWorkflow</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><a href="#__codelineno-16-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="nd">@step</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><a href="#__codelineno-16-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">my_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ev</span><span class="p">:</span> <span class="n">StartEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StopEvent</span><span class="p">:</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><a href="#__codelineno-16-6"><span class="linenos" data-linenos=" 6 "></span></a>        <span class="c1"># do something here</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><a href="#__codelineno-16-7"><span class="linenos" data-linenos=" 7 "></span></a>        <span class="k">return</span> <span class="n">StopEvent</span><span class="p">(</span><span class="n">result</span><span class="o">=</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><a href="#__codelineno-16-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><a href="#__codelineno-16-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="n">w</span> <span class="o">=</span> <span class="n">MyWorkflow</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a><a href="#__codelineno-16-10"><span class="linenos" data-linenos="10 "></span></a><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">w</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<p><strong>2. ËøûÊé•Â§ö‰∏™Ê≠•È™§</strong></p>
<p>‰∏∫ËøûÊé•Â§ö‰∏™Ê≠•È™§ÔºåÈúÄÂàõÂª∫Âú®Ê≠•È™§‰πãÈó¥‰º†ËæìÊï∞ÊçÆÁöÑËá™ÂÆö‰πâ‰∫ã‰ª∂Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><a href="#__codelineno-17-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.workflow</span> <span class="kn">import</span> <span class="n">Event</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><a href="#__codelineno-17-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><a href="#__codelineno-17-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">class</span> <span class="nc">ProcessingEvent</span><span class="p">(</span><span class="n">Event</span><span class="p">):</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><a href="#__codelineno-17-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="n">intermediate_result</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><a href="#__codelineno-17-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><a href="#__codelineno-17-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="k">class</span> <span class="nc">MultiStepWorkflow</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><a href="#__codelineno-17-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="nd">@step</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><a href="#__codelineno-17-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">step_one</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ev</span><span class="p">:</span> <span class="n">StartEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProcessingEvent</span><span class="p">:</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><a href="#__codelineno-17-9"><span class="linenos" data-linenos=" 9 "></span></a>        <span class="c1"># Process initial data</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><a href="#__codelineno-17-10"><span class="linenos" data-linenos="10 "></span></a>        <span class="k">return</span> <span class="n">ProcessingEvent</span><span class="p">(</span><span class="n">intermediate_result</span><span class="o">=</span><span class="s2">&quot;Step 1 complete&quot;</span><span class="p">)</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><a href="#__codelineno-17-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><a href="#__codelineno-17-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="nd">@step</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><a href="#__codelineno-17-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">step_two</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ev</span><span class="p">:</span> <span class="n">ProcessingEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StopEvent</span><span class="p">:</span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><a href="#__codelineno-17-14"><span class="linenos" data-linenos="14 "></span></a>        <span class="c1"># Use the intermediate result</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a><a href="#__codelineno-17-15"><span class="linenos" data-linenos="15 "></span></a>        <span class="n">final_result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Finished processing: </span><span class="si">{</span><span class="n">ev</span><span class="o">.</span><span class="n">intermediate_result</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><a href="#__codelineno-17-16"><span class="linenos" data-linenos="16 "></span></a>        <span class="k">return</span> <span class="n">StopEvent</span><span class="p">(</span><span class="n">result</span><span class="o">=</span><span class="n">final_result</span><span class="p">)</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a><a href="#__codelineno-17-17"><span class="linenos" data-linenos="17 "></span></a>
<a id="__codelineno-17-18" name="__codelineno-17-18"></a><a href="#__codelineno-17-18"><span class="linenos" data-linenos="18 "></span></a><span class="n">w</span> <span class="o">=</span> <span class="n">MultiStepWorkflow</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-17-19" name="__codelineno-17-19"></a><a href="#__codelineno-17-19"><span class="linenos" data-linenos="19 "></span></a><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">w</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<p><strong>3. Âæ™ÁéØÂíåÂàÜÊîØ</strong></p>
<p>Á±ªÂûãÊèêÁ§∫ÂÖÅËÆ∏ÂàõÂª∫ÂàÜÊîØ„ÄÅÂæ™ÁéØÂíåËøûÊé•Ôºå‰øÉËøõÊõ¥Â§çÊùÇÁöÑÂ∑•‰ΩúÊµÅÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><a href="#__codelineno-18-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.workflow</span> <span class="kn">import</span> <span class="n">Event</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><a href="#__codelineno-18-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kn">import</span> <span class="nn">random</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><a href="#__codelineno-18-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><a href="#__codelineno-18-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="k">class</span> <span class="nc">ProcessingEvent</span><span class="p">(</span><span class="n">Event</span><span class="p">):</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><a href="#__codelineno-18-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="n">intermediate_result</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><a href="#__codelineno-18-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><a href="#__codelineno-18-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="k">class</span> <span class="nc">LoopEvent</span><span class="p">(</span><span class="n">Event</span><span class="p">):</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><a href="#__codelineno-18-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="n">loop_output</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><a href="#__codelineno-18-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><a href="#__codelineno-18-10"><span class="linenos" data-linenos="10 "></span></a><span class="k">class</span> <span class="nc">MultiStepWorkflow</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><a href="#__codelineno-18-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="nd">@step</span>
<a id="__codelineno-18-12" name="__codelineno-18-12"></a><a href="#__codelineno-18-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">step_one</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ev</span><span class="p">:</span> <span class="n">StartEvent</span> <span class="o">|</span> <span class="n">LoopEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProcessingEvent</span> <span class="o">|</span> <span class="n">LoopEvent</span><span class="p">:</span>
<a id="__codelineno-18-13" name="__codelineno-18-13"></a><a href="#__codelineno-18-13"><span class="linenos" data-linenos="13 "></span></a>        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-18-14" name="__codelineno-18-14"></a><a href="#__codelineno-18-14"><span class="linenos" data-linenos="14 "></span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad thing happened&quot;</span><span class="p">)</span>
<a id="__codelineno-18-15" name="__codelineno-18-15"></a><a href="#__codelineno-18-15"><span class="linenos" data-linenos="15 "></span></a>            <span class="k">return</span> <span class="n">LoopEvent</span><span class="p">(</span><span class="n">loop_output</span><span class="o">=</span><span class="s2">&quot;Back to step one.&quot;</span><span class="p">)</span>
<a id="__codelineno-18-16" name="__codelineno-18-16"></a><a href="#__codelineno-18-16"><span class="linenos" data-linenos="16 "></span></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-18-17" name="__codelineno-18-17"></a><a href="#__codelineno-18-17"><span class="linenos" data-linenos="17 "></span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Good thing happened&quot;</span><span class="p">)</span>
<a id="__codelineno-18-18" name="__codelineno-18-18"></a><a href="#__codelineno-18-18"><span class="linenos" data-linenos="18 "></span></a>            <span class="k">return</span> <span class="n">ProcessingEvent</span><span class="p">(</span><span class="n">intermediate_result</span><span class="o">=</span><span class="s2">&quot;First step complete.&quot;</span><span class="p">)</span>
<a id="__codelineno-18-19" name="__codelineno-18-19"></a><a href="#__codelineno-18-19"><span class="linenos" data-linenos="19 "></span></a>
<a id="__codelineno-18-20" name="__codelineno-18-20"></a><a href="#__codelineno-18-20"><span class="linenos" data-linenos="20 "></span></a>    <span class="nd">@step</span>
<a id="__codelineno-18-21" name="__codelineno-18-21"></a><a href="#__codelineno-18-21"><span class="linenos" data-linenos="21 "></span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">step_two</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ev</span><span class="p">:</span> <span class="n">ProcessingEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StopEvent</span><span class="p">:</span>
<a id="__codelineno-18-22" name="__codelineno-18-22"></a><a href="#__codelineno-18-22"><span class="linenos" data-linenos="22 "></span></a>        <span class="c1"># Use the intermediate result</span>
<a id="__codelineno-18-23" name="__codelineno-18-23"></a><a href="#__codelineno-18-23"><span class="linenos" data-linenos="23 "></span></a>        <span class="n">final_result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Finished processing: </span><span class="si">{</span><span class="n">ev</span><span class="o">.</span><span class="n">intermediate_result</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-18-24" name="__codelineno-18-24"></a><a href="#__codelineno-18-24"><span class="linenos" data-linenos="24 "></span></a>        <span class="k">return</span> <span class="n">StopEvent</span><span class="p">(</span><span class="n">result</span><span class="o">=</span><span class="n">final_result</span><span class="p">)</span>
<a id="__codelineno-18-25" name="__codelineno-18-25"></a><a href="#__codelineno-18-25"><span class="linenos" data-linenos="25 "></span></a>
<a id="__codelineno-18-26" name="__codelineno-18-26"></a><a href="#__codelineno-18-26"><span class="linenos" data-linenos="26 "></span></a><span class="n">w</span> <span class="o">=</span> <span class="n">MultiStepWorkflow</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-18-27" name="__codelineno-18-27"></a><a href="#__codelineno-18-27"><span class="linenos" data-linenos="27 "></span></a><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">w</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<p><strong>4. ÁªòÂà∂Â∑•‰ΩúÊµÅÁ®ã</strong></p>
<p><img alt="" src="https://img.zhengyua.cn/blog/202503291939121.png" /></p>
<p>ÂèØ‰ª•‰ΩøÁî®<code>draw_all_possible_flows</code>ÂáΩÊï∞Â∞ÜÂ∑•‰ΩúÊµÅÂèØËßÜÂåñÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><a href="#__codelineno-19-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.utils.workflow</span> <span class="kn">import</span> <span class="n">draw_all_possible_flows</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><a href="#__codelineno-19-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><a href="#__codelineno-19-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">w</span> <span class="o">=</span> <span class="c1"># as defined in the previous section</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><a href="#__codelineno-19-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">draw_all_possible_flows</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="s2">&quot;flow.html&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>5. Áä∂ÊÄÅÁÆ°ÁêÜ</strong></p>
<p>ÂΩìÈúÄË¶ÅË∑üË∏™Â∑•‰ΩúÊµÅÁä∂ÊÄÅÊó∂ÔºåÂèØ‰ª•Âú®Ê≠•È™§ÂáΩÊï∞ÂèÇÊï∞‰∏ä‰ΩøÁî®"‰∏ä‰∏ãÊñá"Á±ªÂûãÊèêÁ§∫Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><a href="#__codelineno-20-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.workflow</span> <span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">StartEvent</span><span class="p">,</span> <span class="n">StopEvent</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><a href="#__codelineno-20-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><a href="#__codelineno-20-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="nd">@step</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><a href="#__codelineno-20-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="k">async</span> <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">ev</span><span class="p">:</span> <span class="n">StartEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StopEvent</span><span class="p">:</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><a href="#__codelineno-20-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="c1"># Â≠òÂÇ®Âú®‰∏ä‰∏ãÊñá‰∏≠</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><a href="#__codelineno-20-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">,</span> <span class="s2">&quot;What is the capital of France?&quot;</span><span class="p">)</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><a href="#__codelineno-20-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="c1"># Ê†πÊçÆ‰∏ä‰∏ãÊñáÂíå‰∫ã‰ª∂ÂÅöÊüê‰∫ã</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a><a href="#__codelineno-20-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="n">val</span> <span class="o">=</span> <span class="o">...</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a><a href="#__codelineno-20-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="c1"># ‰ªé‰∏ä‰∏ãÊñá‰∏≠Ê£ÄÁ¥¢</span>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><a href="#__codelineno-20-10"><span class="linenos" data-linenos="10 "></span></a>    <span class="n">query</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a><a href="#__codelineno-20-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="k">return</span> <span class="n">StopEvent</span><span class="p">(</span><span class="n">result</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<p><strong>6. ‰ΩøÁî®Â§öÊô∫ËÉΩ‰ΩìÂ∑•‰ΩúÊµÅËá™Âä®ÂåñÂ∑•‰ΩúÊµÅ</strong></p>
<p>AgentWorkflowÁ±ªÂèØÂàõÂª∫Â§öÊô∫ËÉΩ‰ΩìÂ∑•‰ΩúÊµÅÔºåÂÖÅËÆ∏‰∏çÂêåÊô∫ËÉΩ‰ΩìÂçè‰ΩúÂπ∂Áõ∏‰∫í‰∫§Êé•‰ªªÂä°Ôºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><a href="#__codelineno-21-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.agent.workflow</span> <span class="kn">import</span> <span class="n">AgentWorkflow</span><span class="p">,</span> <span class="n">ReActAgent</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><a href="#__codelineno-21-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kn">from</span> <span class="nn">llama_index.llms.huggingface_api</span> <span class="kn">import</span> <span class="n">HuggingFaceInferenceAPI</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><a href="#__codelineno-21-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><a href="#__codelineno-21-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="c1"># ÂÆö‰πâÂ∑•ÂÖ∑</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><a href="#__codelineno-21-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><a href="#__codelineno-21-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Add two numbers.&quot;&quot;&quot;</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><a href="#__codelineno-21-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><a href="#__codelineno-21-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><a href="#__codelineno-21-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><a href="#__codelineno-21-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Multiply two numbers.&quot;&quot;&quot;</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><a href="#__codelineno-21-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a><a href="#__codelineno-21-12"><span class="linenos" data-linenos="12 "></span></a>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a><a href="#__codelineno-21-13"><span class="linenos" data-linenos="13 "></span></a><span class="n">llm</span> <span class="o">=</span> <span class="n">HuggingFaceInferenceAPI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;Qwen/Qwen2.5-Coder-32B-Instruct&quot;</span><span class="p">)</span>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a><a href="#__codelineno-21-14"><span class="linenos" data-linenos="14 "></span></a>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a><a href="#__codelineno-21-15"><span class="linenos" data-linenos="15 "></span></a><span class="n">multiply_agent</span> <span class="o">=</span> <span class="n">ReActAgent</span><span class="p">(</span>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a><a href="#__codelineno-21-16"><span class="linenos" data-linenos="16 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;multiply_agent&quot;</span><span class="p">,</span>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a><a href="#__codelineno-21-17"><span class="linenos" data-linenos="17 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Is able to multiply two integers&quot;</span><span class="p">,</span>
<a id="__codelineno-21-18" name="__codelineno-21-18"></a><a href="#__codelineno-21-18"><span class="linenos" data-linenos="18 "></span></a>    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;A helpful assistant that can use a tool to multiply numbers.&quot;</span><span class="p">,</span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a><a href="#__codelineno-21-19"><span class="linenos" data-linenos="19 "></span></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">multiply</span><span class="p">],</span>
<a id="__codelineno-21-20" name="__codelineno-21-20"></a><a href="#__codelineno-21-20"><span class="linenos" data-linenos="20 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<a id="__codelineno-21-21" name="__codelineno-21-21"></a><a href="#__codelineno-21-21"><span class="linenos" data-linenos="21 "></span></a><span class="p">)</span>
<a id="__codelineno-21-22" name="__codelineno-21-22"></a><a href="#__codelineno-21-22"><span class="linenos" data-linenos="22 "></span></a>
<a id="__codelineno-21-23" name="__codelineno-21-23"></a><a href="#__codelineno-21-23"><span class="linenos" data-linenos="23 "></span></a><span class="n">addition_agent</span> <span class="o">=</span> <span class="n">ReActAgent</span><span class="p">(</span>
<a id="__codelineno-21-24" name="__codelineno-21-24"></a><a href="#__codelineno-21-24"><span class="linenos" data-linenos="24 "></span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;add_agent&quot;</span><span class="p">,</span>
<a id="__codelineno-21-25" name="__codelineno-21-25"></a><a href="#__codelineno-21-25"><span class="linenos" data-linenos="25 "></span></a>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Is able to add two integers&quot;</span><span class="p">,</span>
<a id="__codelineno-21-26" name="__codelineno-21-26"></a><a href="#__codelineno-21-26"><span class="linenos" data-linenos="26 "></span></a>    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;A helpful assistant that can use a tool to add numbers.&quot;</span><span class="p">,</span>
<a id="__codelineno-21-27" name="__codelineno-21-27"></a><a href="#__codelineno-21-27"><span class="linenos" data-linenos="27 "></span></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">add</span><span class="p">],</span>
<a id="__codelineno-21-28" name="__codelineno-21-28"></a><a href="#__codelineno-21-28"><span class="linenos" data-linenos="28 "></span></a>    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<a id="__codelineno-21-29" name="__codelineno-21-29"></a><a href="#__codelineno-21-29"><span class="linenos" data-linenos="29 "></span></a><span class="p">)</span>
<a id="__codelineno-21-30" name="__codelineno-21-30"></a><a href="#__codelineno-21-30"><span class="linenos" data-linenos="30 "></span></a>
<a id="__codelineno-21-31" name="__codelineno-21-31"></a><a href="#__codelineno-21-31"><span class="linenos" data-linenos="31 "></span></a><span class="c1"># ÂàõÂª∫Â∑•‰ΩúÊµÅ</span>
<a id="__codelineno-21-32" name="__codelineno-21-32"></a><a href="#__codelineno-21-32"><span class="linenos" data-linenos="32 "></span></a><span class="n">workflow</span> <span class="o">=</span> <span class="n">AgentWorkflow</span><span class="p">(</span>
<a id="__codelineno-21-33" name="__codelineno-21-33"></a><a href="#__codelineno-21-33"><span class="linenos" data-linenos="33 "></span></a>    <span class="n">agents</span><span class="o">=</span><span class="p">[</span><span class="n">multiply_agent</span><span class="p">,</span> <span class="n">addition_agent</span><span class="p">],</span>
<a id="__codelineno-21-34" name="__codelineno-21-34"></a><a href="#__codelineno-21-34"><span class="linenos" data-linenos="34 "></span></a>    <span class="n">root_agent</span><span class="o">=</span><span class="s2">&quot;multiply_agent&quot;</span><span class="p">,</span>
<a id="__codelineno-21-35" name="__codelineno-21-35"></a><a href="#__codelineno-21-35"><span class="linenos" data-linenos="35 "></span></a><span class="p">)</span>
<a id="__codelineno-21-36" name="__codelineno-21-36"></a><a href="#__codelineno-21-36"><span class="linenos" data-linenos="36 "></span></a>
<a id="__codelineno-21-37" name="__codelineno-21-37"></a><a href="#__codelineno-21-37"><span class="linenos" data-linenos="37 "></span></a><span class="c1"># ËøêË°åÁ≥ªÁªü</span>
<a id="__codelineno-21-38" name="__codelineno-21-38"></a><a href="#__codelineno-21-38"><span class="linenos" data-linenos="38 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">workflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">user_msg</span><span class="o">=</span><span class="s2">&quot;Can you add 5 and 3?&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Êô∫ËÉΩ‰ΩìÂ∑•ÂÖ∑ËøòÂèØ‰ª•‰øÆÊîπÂ∑•‰ΩúÊµÅÁä∂ÊÄÅÔºö</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><a href="#__codelineno-22-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span> <span class="nn">llama_index.core.workflow</span> <span class="kn">import</span> <span class="n">Context</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><a href="#__codelineno-22-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><a href="#__codelineno-22-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="c1"># ÂÆö‰πâÂ∑•ÂÖ∑</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><a href="#__codelineno-22-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="k">async</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><a href="#__codelineno-22-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Add two numbers.&quot;&quot;&quot;</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><a href="#__codelineno-22-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="c1"># Êõ¥Êñ∞ËÆ°Êï∞</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><a href="#__codelineno-22-7"><span class="linenos" data-linenos=" 7 "></span></a>    <span class="n">cur_state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><a href="#__codelineno-22-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="n">cur_state</span><span class="p">[</span><span class="s2">&quot;num_fn_calls&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><a href="#__codelineno-22-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="n">cur_state</span><span class="p">)</span>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><a href="#__codelineno-22-10"><span class="linenos" data-linenos="10 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a><a href="#__codelineno-22-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><a href="#__codelineno-22-12"><span class="linenos" data-linenos="12 "></span></a><span class="k">async</span> <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><a href="#__codelineno-22-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Multiply two numbers.&quot;&quot;&quot;</span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a><a href="#__codelineno-22-14"><span class="linenos" data-linenos="14 "></span></a>    <span class="c1"># Êõ¥Êñ∞ËÆ°Êï∞</span>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a><a href="#__codelineno-22-15"><span class="linenos" data-linenos="15 "></span></a>    <span class="n">cur_state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
<a id="__codelineno-22-16" name="__codelineno-22-16"></a><a href="#__codelineno-22-16"><span class="linenos" data-linenos="16 "></span></a>    <span class="n">cur_state</span><span class="p">[</span><span class="s2">&quot;num_fn_calls&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-22-17" name="__codelineno-22-17"></a><a href="#__codelineno-22-17"><span class="linenos" data-linenos="17 "></span></a>    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="n">cur_state</span><span class="p">)</span>
<a id="__codelineno-22-18" name="__codelineno-22-18"></a><a href="#__codelineno-22-18"><span class="linenos" data-linenos="18 "></span></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-22-19" name="__codelineno-22-19"></a><a href="#__codelineno-22-19"><span class="linenos" data-linenos="19 "></span></a>
<a id="__codelineno-22-20" name="__codelineno-22-20"></a><a href="#__codelineno-22-20"><span class="linenos" data-linenos="20 "></span></a><span class="c1"># Â∑•‰ΩúÊµÅÂàùÂßãÂåñ</span>
<a id="__codelineno-22-21" name="__codelineno-22-21"></a><a href="#__codelineno-22-21"><span class="linenos" data-linenos="21 "></span></a><span class="n">workflow</span> <span class="o">=</span> <span class="n">AgentWorkflow</span><span class="p">(</span>
<a id="__codelineno-22-22" name="__codelineno-22-22"></a><a href="#__codelineno-22-22"><span class="linenos" data-linenos="22 "></span></a>    <span class="n">agents</span><span class="o">=</span><span class="p">[</span><span class="n">multiply_agent</span><span class="p">,</span> <span class="n">addition_agent</span><span class="p">],</span>
<a id="__codelineno-22-23" name="__codelineno-22-23"></a><a href="#__codelineno-22-23"><span class="linenos" data-linenos="23 "></span></a>    <span class="n">root_agent</span><span class="o">=</span><span class="s2">&quot;multiply_agent&quot;</span><span class="p">,</span>
<a id="__codelineno-22-24" name="__codelineno-22-24"></a><a href="#__codelineno-22-24"><span class="linenos" data-linenos="24 "></span></a>    <span class="n">initial_state</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;num_fn_calls&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
<a id="__codelineno-22-25" name="__codelineno-22-25"></a><a href="#__codelineno-22-25"><span class="linenos" data-linenos="25 "></span></a>    <span class="n">state_prompt</span><span class="o">=</span><span class="s2">&quot;Current state: </span><span class="si">{state}</span><span class="s2">. User message: </span><span class="si">{msg}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-22-26" name="__codelineno-22-26"></a><a href="#__codelineno-22-26"><span class="linenos" data-linenos="26 "></span></a><span class="p">)</span>
<a id="__codelineno-22-27" name="__codelineno-22-27"></a><a href="#__codelineno-22-27"><span class="linenos" data-linenos="27 "></span></a>
<a id="__codelineno-22-28" name="__codelineno-22-28"></a><a href="#__codelineno-22-28"><span class="linenos" data-linenos="28 "></span></a><span class="c1"># ‰ΩøÁî®‰∏ä‰∏ãÊñáËøêË°åÂ∑•‰ΩúÊµÅ</span>
<a id="__codelineno-22-29" name="__codelineno-22-29"></a><a href="#__codelineno-22-29"><span class="linenos" data-linenos="29 "></span></a><span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span>
<a id="__codelineno-22-30" name="__codelineno-22-30"></a><a href="#__codelineno-22-30"><span class="linenos" data-linenos="30 "></span></a><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">workflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">user_msg</span><span class="o">=</span><span class="s2">&quot;Can you add 5 and 3?&quot;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">ctx</span><span class="p">)</span>
<a id="__codelineno-22-31" name="__codelineno-22-31"></a><a href="#__codelineno-22-31"><span class="linenos" data-linenos="31 "></span></a>
<a id="__codelineno-22-32" name="__codelineno-22-32"></a><a href="#__codelineno-22-32"><span class="linenos" data-linenos="32 "></span></a><span class="c1"># Ê£ÄÊü•Áä∂ÊÄÅ</span>
<a id="__codelineno-22-33" name="__codelineno-22-33"></a><a href="#__codelineno-22-33"><span class="linenos" data-linenos="33 "></span></a><span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
<a id="__codelineno-22-34" name="__codelineno-22-34"></a><a href="#__codelineno-22-34"><span class="linenos" data-linenos="34 "></span></a><span class="nb">print</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;num_fn_calls&quot;</span><span class="p">])</span>
</code></pre></div>
<p><strong>7. LlamaIndex Ê°ÜÊû∂ÂÆåÊï¥Â∑•‰ΩúÊµÅÁ®ãÂõæ</strong></p>
<div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><a href="#__codelineno-23-1"><span class="linenos" data-linenos=" 1 "></span></a>+--------------------------------+
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><a href="#__codelineno-23-2"><span class="linenos" data-linenos=" 2 "></span></a>|          ÂéüÂßãÊï∞ÊçÆ              |
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><a href="#__codelineno-23-3"><span class="linenos" data-linenos=" 3 "></span></a>+---------------+----------------+
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><a href="#__codelineno-23-4"><span class="linenos" data-linenos=" 4 "></span></a>                |
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><a href="#__codelineno-23-5"><span class="linenos" data-linenos=" 5 "></span></a>                v
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><a href="#__codelineno-23-6"><span class="linenos" data-linenos=" 6 "></span></a>+--------------------------------+
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><a href="#__codelineno-23-7"><span class="linenos" data-linenos=" 7 "></span></a>|          Êï∞ÊçÆÂä†ËΩΩ              |
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><a href="#__codelineno-23-8"><span class="linenos" data-linenos=" 8 "></span></a>+---------------+----------------+
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><a href="#__codelineno-23-9"><span class="linenos" data-linenos=" 9 "></span></a>                |
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><a href="#__codelineno-23-10"><span class="linenos" data-linenos="10 "></span></a>                v
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><a href="#__codelineno-23-11"><span class="linenos" data-linenos="11 "></span></a>+--------------------------------+
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><a href="#__codelineno-23-12"><span class="linenos" data-linenos="12 "></span></a>|          Êï∞ÊçÆÁ¥¢Âºï              |
<a id="__codelineno-23-13" name="__codelineno-23-13"></a><a href="#__codelineno-23-13"><span class="linenos" data-linenos="13 "></span></a>+---------------+----------------+
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><a href="#__codelineno-23-14"><span class="linenos" data-linenos="14 "></span></a>                |
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><a href="#__codelineno-23-15"><span class="linenos" data-linenos="15 "></span></a>                v
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><a href="#__codelineno-23-16"><span class="linenos" data-linenos="16 "></span></a>+--------------------------------+
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><a href="#__codelineno-23-17"><span class="linenos" data-linenos="17 "></span></a>|          Êï∞ÊçÆÂ≠òÂÇ®              |
<a id="__codelineno-23-18" name="__codelineno-23-18"></a><a href="#__codelineno-23-18"><span class="linenos" data-linenos="18 "></span></a>+---------------+----------------+
<a id="__codelineno-23-19" name="__codelineno-23-19"></a><a href="#__codelineno-23-19"><span class="linenos" data-linenos="19 "></span></a>                |
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><a href="#__codelineno-23-20"><span class="linenos" data-linenos="20 "></span></a>                v
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><a href="#__codelineno-23-21"><span class="linenos" data-linenos="21 "></span></a>+--------------------------------+
<a id="__codelineno-23-22" name="__codelineno-23-22"></a><a href="#__codelineno-23-22"><span class="linenos" data-linenos="22 "></span></a>|          Êü•ËØ¢ÊúçÂä°              |
<a id="__codelineno-23-23" name="__codelineno-23-23"></a><a href="#__codelineno-23-23"><span class="linenos" data-linenos="23 "></span></a>+---------------+----------------+
<a id="__codelineno-23-24" name="__codelineno-23-24"></a><a href="#__codelineno-23-24"><span class="linenos" data-linenos="24 "></span></a>                |
<a id="__codelineno-23-25" name="__codelineno-23-25"></a><a href="#__codelineno-23-25"><span class="linenos" data-linenos="25 "></span></a>                v
<a id="__codelineno-23-26" name="__codelineno-23-26"></a><a href="#__codelineno-23-26"><span class="linenos" data-linenos="26 "></span></a>+==================================+
<a id="__codelineno-23-27" name="__codelineno-23-27"></a><a href="#__codelineno-23-27"><span class="linenos" data-linenos="27 "></span></a>|     LlamaIndexÊô∫ËÉΩ‰ΩìÊ°ÜÊû∂        |
<a id="__codelineno-23-28" name="__codelineno-23-28"></a><a href="#__codelineno-23-28"><span class="linenos" data-linenos="28 "></span></a>|                                  |
<a id="__codelineno-23-29" name="__codelineno-23-29"></a><a href="#__codelineno-23-29"><span class="linenos" data-linenos="29 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-30" name="__codelineno-23-30"></a><a href="#__codelineno-23-30"><span class="linenos" data-linenos="30 "></span></a>|  | Êô∫ËÉΩ‰ΩìÂàõÂª∫  |                 |
<a id="__codelineno-23-31" name="__codelineno-23-31"></a><a href="#__codelineno-23-31"><span class="linenos" data-linenos="31 "></span></a>|  +------+------+                 |
<a id="__codelineno-23-32" name="__codelineno-23-32"></a><a href="#__codelineno-23-32"><span class="linenos" data-linenos="32 "></span></a>|         |                        |
<a id="__codelineno-23-33" name="__codelineno-23-33"></a><a href="#__codelineno-23-33"><span class="linenos" data-linenos="33 "></span></a>|         v                        |
<a id="__codelineno-23-34" name="__codelineno-23-34"></a><a href="#__codelineno-23-34"><span class="linenos" data-linenos="34 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-35" name="__codelineno-23-35"></a><a href="#__codelineno-23-35"><span class="linenos" data-linenos="35 "></span></a>|  | Â∑•ÂÖ∑ÈÄâÊã©‰∏é  |                 |
<a id="__codelineno-23-36" name="__codelineno-23-36"></a><a href="#__codelineno-23-36"><span class="linenos" data-linenos="36 "></span></a>|  |   ÈÖçÁΩÆ      |                 |
<a id="__codelineno-23-37" name="__codelineno-23-37"></a><a href="#__codelineno-23-37"><span class="linenos" data-linenos="37 "></span></a>|  +------+------+                 |
<a id="__codelineno-23-38" name="__codelineno-23-38"></a><a href="#__codelineno-23-38"><span class="linenos" data-linenos="38 "></span></a>|         |                        |
<a id="__codelineno-23-39" name="__codelineno-23-39"></a><a href="#__codelineno-23-39"><span class="linenos" data-linenos="39 "></span></a>|         v                        |
<a id="__codelineno-23-40" name="__codelineno-23-40"></a><a href="#__codelineno-23-40"><span class="linenos" data-linenos="40 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-41" name="__codelineno-23-41"></a><a href="#__codelineno-23-41"><span class="linenos" data-linenos="41 "></span></a>|  | Â∑•‰ΩúÊµÅÂÆö‰πâ  |                 |
<a id="__codelineno-23-42" name="__codelineno-23-42"></a><a href="#__codelineno-23-42"><span class="linenos" data-linenos="42 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-43" name="__codelineno-23-43"></a><a href="#__codelineno-23-43"><span class="linenos" data-linenos="43 "></span></a>+==================================+
<a id="__codelineno-23-44" name="__codelineno-23-44"></a><a href="#__codelineno-23-44"><span class="linenos" data-linenos="44 "></span></a>                |
<a id="__codelineno-23-45" name="__codelineno-23-45"></a><a href="#__codelineno-23-45"><span class="linenos" data-linenos="45 "></span></a>                v
<a id="__codelineno-23-46" name="__codelineno-23-46"></a><a href="#__codelineno-23-46"><span class="linenos" data-linenos="46 "></span></a>+==================================+
<a id="__codelineno-23-47" name="__codelineno-23-47"></a><a href="#__codelineno-23-47"><span class="linenos" data-linenos="47 "></span></a>|         Êô∫ËÉΩ‰ΩìÁ±ªÂûã              |
<a id="__codelineno-23-48" name="__codelineno-23-48"></a><a href="#__codelineno-23-48"><span class="linenos" data-linenos="48 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-49" name="__codelineno-23-49"></a><a href="#__codelineno-23-49"><span class="linenos" data-linenos="49 "></span></a>|  | ÂáΩÊï∞Ë∞ÉÁî®    |                 |
<a id="__codelineno-23-50" name="__codelineno-23-50"></a><a href="#__codelineno-23-50"><span class="linenos" data-linenos="50 "></span></a>|  | Êô∫ËÉΩ‰Ωì      |                 |
<a id="__codelineno-23-51" name="__codelineno-23-51"></a><a href="#__codelineno-23-51"><span class="linenos" data-linenos="51 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-52" name="__codelineno-23-52"></a><a href="#__codelineno-23-52"><span class="linenos" data-linenos="52 "></span></a>|  | ReAct       |                 |
<a id="__codelineno-23-53" name="__codelineno-23-53"></a><a href="#__codelineno-23-53"><span class="linenos" data-linenos="53 "></span></a>|  | Êô∫ËÉΩ‰Ωì      |                 |
<a id="__codelineno-23-54" name="__codelineno-23-54"></a><a href="#__codelineno-23-54"><span class="linenos" data-linenos="54 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-55" name="__codelineno-23-55"></a><a href="#__codelineno-23-55"><span class="linenos" data-linenos="55 "></span></a>|  | È´òÁ∫ßËá™ÂÆö‰πâ  |                 |
<a id="__codelineno-23-56" name="__codelineno-23-56"></a><a href="#__codelineno-23-56"><span class="linenos" data-linenos="56 "></span></a>|  | Êô∫ËÉΩ‰Ωì      |                 |
<a id="__codelineno-23-57" name="__codelineno-23-57"></a><a href="#__codelineno-23-57"><span class="linenos" data-linenos="57 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-58" name="__codelineno-23-58"></a><a href="#__codelineno-23-58"><span class="linenos" data-linenos="58 "></span></a>+==================================+
<a id="__codelineno-23-59" name="__codelineno-23-59"></a><a href="#__codelineno-23-59"><span class="linenos" data-linenos="59 "></span></a>                |
<a id="__codelineno-23-60" name="__codelineno-23-60"></a><a href="#__codelineno-23-60"><span class="linenos" data-linenos="60 "></span></a>                v
<a id="__codelineno-23-61" name="__codelineno-23-61"></a><a href="#__codelineno-23-61"><span class="linenos" data-linenos="61 "></span></a>+==================================+
<a id="__codelineno-23-62" name="__codelineno-23-62"></a><a href="#__codelineno-23-62"><span class="linenos" data-linenos="62 "></span></a>|          Â∑•ÂÖ∑Á±ªÂûã               |
<a id="__codelineno-23-63" name="__codelineno-23-63"></a><a href="#__codelineno-23-63"><span class="linenos" data-linenos="63 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-64" name="__codelineno-23-64"></a><a href="#__codelineno-23-64"><span class="linenos" data-linenos="64 "></span></a>|  | FunctionTool|                 |
<a id="__codelineno-23-65" name="__codelineno-23-65"></a><a href="#__codelineno-23-65"><span class="linenos" data-linenos="65 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-66" name="__codelineno-23-66"></a><a href="#__codelineno-23-66"><span class="linenos" data-linenos="66 "></span></a>|  | QueryEngine |                 |
<a id="__codelineno-23-67" name="__codelineno-23-67"></a><a href="#__codelineno-23-67"><span class="linenos" data-linenos="67 "></span></a>|  | Tool        |                 |
<a id="__codelineno-23-68" name="__codelineno-23-68"></a><a href="#__codelineno-23-68"><span class="linenos" data-linenos="68 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-69" name="__codelineno-23-69"></a><a href="#__codelineno-23-69"><span class="linenos" data-linenos="69 "></span></a>|  | Toolspecs   |                 |
<a id="__codelineno-23-70" name="__codelineno-23-70"></a><a href="#__codelineno-23-70"><span class="linenos" data-linenos="70 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-71" name="__codelineno-23-71"></a><a href="#__codelineno-23-71"><span class="linenos" data-linenos="71 "></span></a>|  | Utility     |                 |
<a id="__codelineno-23-72" name="__codelineno-23-72"></a><a href="#__codelineno-23-72"><span class="linenos" data-linenos="72 "></span></a>|  | Tools       |                 |
<a id="__codelineno-23-73" name="__codelineno-23-73"></a><a href="#__codelineno-23-73"><span class="linenos" data-linenos="73 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-74" name="__codelineno-23-74"></a><a href="#__codelineno-23-74"><span class="linenos" data-linenos="74 "></span></a>+==================================+
<a id="__codelineno-23-75" name="__codelineno-23-75"></a><a href="#__codelineno-23-75"><span class="linenos" data-linenos="75 "></span></a>                |
<a id="__codelineno-23-76" name="__codelineno-23-76"></a><a href="#__codelineno-23-76"><span class="linenos" data-linenos="76 "></span></a>                v
<a id="__codelineno-23-77" name="__codelineno-23-77"></a><a href="#__codelineno-23-77"><span class="linenos" data-linenos="77 "></span></a>+==================================+
<a id="__codelineno-23-78" name="__codelineno-23-78"></a><a href="#__codelineno-23-78"><span class="linenos" data-linenos="78 "></span></a>|         Â∑•‰ΩúÊµÅÊûÑÂª∫              |
<a id="__codelineno-23-79" name="__codelineno-23-79"></a><a href="#__codelineno-23-79"><span class="linenos" data-linenos="79 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-80" name="__codelineno-23-80"></a><a href="#__codelineno-23-80"><span class="linenos" data-linenos="80 "></span></a>|  | ‰∫ã‰ª∂ÂÆö‰πâ    |                 |
<a id="__codelineno-23-81" name="__codelineno-23-81"></a><a href="#__codelineno-23-81"><span class="linenos" data-linenos="81 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-82" name="__codelineno-23-82"></a><a href="#__codelineno-23-82"><span class="linenos" data-linenos="82 "></span></a>|  | Ê≠•È™§ËÆæËÆ°    |                 |
<a id="__codelineno-23-83" name="__codelineno-23-83"></a><a href="#__codelineno-23-83"><span class="linenos" data-linenos="83 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-84" name="__codelineno-23-84"></a><a href="#__codelineno-23-84"><span class="linenos" data-linenos="84 "></span></a>|  | Áä∂ÊÄÅÁÆ°ÁêÜ    |                 |
<a id="__codelineno-23-85" name="__codelineno-23-85"></a><a href="#__codelineno-23-85"><span class="linenos" data-linenos="85 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-86" name="__codelineno-23-86"></a><a href="#__codelineno-23-86"><span class="linenos" data-linenos="86 "></span></a>|  | Â§öÊô∫ËÉΩ‰Ωì    |                 |
<a id="__codelineno-23-87" name="__codelineno-23-87"></a><a href="#__codelineno-23-87"><span class="linenos" data-linenos="87 "></span></a>|  | Âçè‰Ωú        |                 |
<a id="__codelineno-23-88" name="__codelineno-23-88"></a><a href="#__codelineno-23-88"><span class="linenos" data-linenos="88 "></span></a>|  +-------------+                 |
<a id="__codelineno-23-89" name="__codelineno-23-89"></a><a href="#__codelineno-23-89"><span class="linenos" data-linenos="89 "></span></a>+==================================+
<a id="__codelineno-23-90" name="__codelineno-23-90"></a><a href="#__codelineno-23-90"><span class="linenos" data-linenos="90 "></span></a>                |
<a id="__codelineno-23-91" name="__codelineno-23-91"></a><a href="#__codelineno-23-91"><span class="linenos" data-linenos="91 "></span></a>                v
<a id="__codelineno-23-92" name="__codelineno-23-92"></a><a href="#__codelineno-23-92"><span class="linenos" data-linenos="92 "></span></a>+--------------------------------+
<a id="__codelineno-23-93" name="__codelineno-23-93"></a><a href="#__codelineno-23-93"><span class="linenos" data-linenos="93 "></span></a>|      ÂÆåÊï¥Êô∫ËÉΩ‰ΩìÂ∫îÁî®            |
<a id="__codelineno-23-94" name="__codelineno-23-94"></a><a href="#__codelineno-23-94"><span class="linenos" data-linenos="94 "></span></a>+--------------------------------+
</code></pre></div>
<p><strong>8. Ê†∏ÂøÉÊ¶ÇÂøµÊÄªÁªìË°®</strong></p>
<table>
<thead>
<tr>
<th>Á±ªÂà´</th>
<th>ÁªÑ‰ª∂</th>
<th>‰∏ªË¶ÅÂäüËÉΩ</th>
<th>‰ΩøÁî®Âú∫ÊôØ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Êï∞ÊçÆÂ§ÑÁêÜ</strong></td>
<td>SimpleDirectoryReader</td>
<td>‰ªéÊú¨Âú∞ÁõÆÂΩïÂä†ËΩΩÊñá‰ª∂</td>
<td>Â§ÑÁêÜÊú¨Âú∞Â§öÁßçÊñá‰ª∂Á±ªÂûã</td>
</tr>
<tr>
<td></td>
<td>LlamaParse</td>
<td>ÂÆòÊñπPDFËß£ÊûêÂ∑•ÂÖ∑</td>
<td>Â§ÑÁêÜPDFÁ≠âÂ§çÊùÇÊñáÊ°£</td>
</tr>
<tr>
<td></td>
<td>IngestionPipeline</td>
<td>Â§ÑÁêÜÊñáÊ°£ËΩ¨Êç¢‰∏∫ËäÇÁÇπ</td>
<td>Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜÂíåÂµåÂÖ•</td>
</tr>
<tr>
<td><strong>Á¥¢Âºï‰∏éÂ≠òÂÇ®</strong></td>
<td>VectorStoreIndex</td>
<td>ÂàõÂª∫ÂêëÈáèÁ¥¢Âºï</td>
<td>ËØ≠‰πâÊêúÁ¥¢</td>
</tr>
<tr>
<td></td>
<td>ChromaVectorStore</td>
<td>ÂêëÈáèÊï∞ÊçÆÂ≠òÂÇ®</td>
<td>ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÂµåÂÖ•</td>
</tr>
<tr>
<td><strong>Êü•ËØ¢ÂºïÊìé</strong></td>
<td>QueryEngine</td>
<td>Êü•ËØ¢Á¥¢ÂºïÁîüÊàêÂõûÁ≠î</td>
<td>ÂçïÊ¨°ÈóÆÁ≠î‰∫§‰∫í</td>
</tr>
<tr>
<td></td>
<td>ChatEngine</td>
<td>‰øùÊåÅÂØπËØùËÆ∞ÂøÜ</td>
<td>ÈúÄË¶ÅÁª¥ÊåÅ‰∏ä‰∏ãÊñáÁöÑÂØπËØù</td>
</tr>
<tr>
<td><strong>Â∑•ÂÖ∑</strong></td>
<td>FunctionTool</td>
<td>ÂåÖË£ÖPythonÂáΩÊï∞</td>
<td>ÊâßË°åÁâπÂÆöÂäüËÉΩ</td>
</tr>
<tr>
<td></td>
<td>QueryEngineTool</td>
<td>ÂåÖË£ÖÊü•ËØ¢ÂºïÊìé</td>
<td>RAGÂ∫îÁî®</td>
</tr>
<tr>
<td></td>
<td>Toolspecs</td>
<td>È¢ÑËÆæÂ∑•ÂÖ∑ÈõÜÂêà</td>
<td>ÁâπÂÆöÊúçÂä°ÈõÜÊàê</td>
</tr>
<tr>
<td><strong>Êô∫ËÉΩ‰Ωì</strong></td>
<td>ÂáΩÊï∞Ë∞ÉÁî®Êô∫ËÉΩ‰Ωì</td>
<td>Áõ¥Êé•Ë∞ÉÁî®ÂáΩÊï∞</td>
<td>ÊîØÊåÅÂáΩÊï∞Ë∞ÉÁî®ÁöÑÊ®°Âûã</td>
</tr>
<tr>
<td></td>
<td>ReActÊô∫ËÉΩ‰Ωì</td>
<td>Â±ïÁ§∫Êé®ÁêÜËøáÁ®ã</td>
<td>Â§çÊùÇÊé®ÁêÜ‰ªªÂä°</td>
</tr>
<tr>
<td></td>
<td>AgentWorkflow</td>
<td>Â§öÊô∫ËÉΩ‰ΩìÂçè‰Ωú</td>
<td>Â§çÊùÇÁ≥ªÁªüÊûÑÂª∫</td>
</tr>
<tr>
<td><strong>Â∑•‰ΩúÊµÅ</strong></td>
<td>WorkflowÁ±ª</td>
<td>ÂÆö‰πâÂ§ÑÁêÜÊ≠•È™§</td>
<td>ÁªìÊûÑÂåñ‰ªªÂä°Â§ÑÁêÜ</td>
</tr>
<tr>
<td></td>
<td>‰∫ã‰ª∂Á≥ªÁªü</td>
<td>Ê≠•È™§Èó¥ÈÄö‰ø°</td>
<td>Êï∞ÊçÆ‰º†ÈÄíÂíåÊµÅÊéßÂà∂</td>
</tr>
<tr>
<td></td>
<td>ContextÂØπË±°</td>
<td>Áä∂ÊÄÅÁÆ°ÁêÜ</td>
<td>‰øùÊåÅÂ∑•‰ΩúÊµÅÁä∂ÊÄÅ</td>
</tr>
</tbody>
</table>
<p><strong>9. ‰ª£Á†ÅÂÆûÁé∞‰∏ªË¶ÅÊ≠•È™§</strong></p>
<ul>
<li><strong>Êï∞ÊçÆÂáÜÂ§á</strong>Ôºö‰ΩøÁî®SimpleDirectoryReaderÂä†ËΩΩÊï∞ÊçÆÔºåÈÄöËøáIngestionPipelineËøõË°åÈ¢ÑÂ§ÑÁêÜÂíåÂµåÂÖ•</li>
<li><strong>Á¥¢ÂºïÊûÑÂª∫</strong>ÔºöÂàõÂª∫VectorStoreIndexÂπ∂‰ΩøÁî®ÂêëÈáèÂ≠òÂÇ®ËøõË°åÊåÅ‰πÖÂåñ</li>
<li><strong>Â∑•ÂÖ∑ÂÆö‰πâ</strong>ÔºöÊûÑÂª∫FunctionToolÊàñQueryEngineToolÊèê‰æõÂÖ∑‰ΩìÂäüËÉΩ</li>
<li><strong>Êô∫ËÉΩ‰ΩìÂàõÂª∫</strong>Ôºö‰ΩøÁî®AgentWorkflowÈÖçÁΩÆÊô∫ËÉΩ‰ΩìÔºåËµã‰∫àÂÖ∂Â∑•ÂÖ∑Ë∞ÉÁî®ËÉΩÂäõ</li>
<li><strong>Â∑•‰ΩúÊµÅËÆæËÆ°</strong>ÔºöÈÄöËøá‰∫ã‰ª∂ÂíåÊ≠•È™§ËÆæËÆ°Â§ÑÁêÜÊµÅÁ®ãÔºåÁÆ°ÁêÜÁä∂ÊÄÅÂíåÊô∫ËÉΩ‰Ωì‰∫§‰∫í</li>
<li><strong>ÈÉ®ÁΩ≤Â∫îÁî®</strong>ÔºöÊï¥Âêà‰ª•‰∏äÁªÑ‰ª∂ÔºåÂàõÂª∫ÂÆåÊï¥ÁöÑÊô∫ËÉΩ‰ΩìÂ∫îÁî®</li>
</ul>
<p>ÈÄöËøáËøôÂ•óÂÆåÊï¥ÁöÑÊ°ÜÊû∂ÔºåLlamaIndexÊèê‰æõ‰∫Ü‰ªéÊï∞ÊçÆÂ§ÑÁêÜÂà∞Êô∫ËÉΩ‰ΩìÂçè‰ΩúÁöÑÂÖ®ÊµÅÁ®ãÊîØÊåÅÔºå‰ΩøÂºÄÂèëËÄÖËÉΩÂ§üÊûÑÂª∫Â§çÊùÇÁöÑÊô∫ËÉΩ‰ΩìÂ∫îÁî®Á≥ªÁªü„ÄÇ</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">March 30, 2025 17:23:25</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">March 30, 2025 17:23:25</span>
  </span>

    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../UNIT21/" class="md-footer__link md-footer__link--prev" aria-label="Previous: UNIT2.1 Smolagents Frameworks">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                UNIT2.1 Smolagents Frameworks
              </div>
            </div>
          </a>
        
        
          
          <a href="../UNIT23/" class="md-footer__link md-footer__link--next" aria-label="Next: UNIT2.3 LangGraph Frameworks">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                UNIT2.3 LangGraph Frameworks
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 catwithtudou
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/catwithtudou" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/catwithtudou" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.annotation", "content.code.copy", "content.code.select", "header.autohide"], "search": "../../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>